================================================================================
Part II
Conty 매뉴얼

================================================================================
9. 시작하기
9
시작하기
9.1
전원켜기
컨트롤박스는구매한제품에따라컨트롤박스2.0과컨트롤박스3.0 두가지버전이있습니다. 컨트롤박
스2.0은전면은전원스위치를통해전원을켜고끌수있습니다. 컨트롤박스3.0은후면의서킷브레이
커를올려주면전원이켜지고, 내려주면전원이꺼집니다. 전원이켜진상태에서전면의리부트버튼을
누르면재부팅됩니다.
컨트롤박스2.0 전원스위치(상), 컨트롤박스3.0 전원스위치(하)
• 컨트롤박스의전원이켜지지않을경우전원케이블이전원소켓에올바르
게연결되어있는지, 비상정지버튼이눌러진상태인지를확인하십시오.
• 컨트롤박스의전원이켜진후엔드툴표시등이켜지지않거나빨간색점
멸상태를계속유지할경우컨트롤박스재부팅을시도하십시오. 재부팅
이후에도동일한문제가지속되는경우컨트롤박스전원을끄고제조사에
문의하십시오.
112

================================================================================
9. 시작하기
전원이정상적으로켜지면컨트롤박스전면의전원표시등이파란색으로점등됩니다.
Power OFF
Power ON
전원이켜진상태에서전원스위치를다시누르면컨트롤박스와로봇의전원이
즉시꺼집니다. 로봇동작중에갑작스러운전원의차단은제품에손상을가져올
수있으므로긴급한경우를제외하고는동작중에전원을끄지마십시오. 일반적
인시스템종료방법은시스템종료를참고하십시오.
113

================================================================================
9. 시작하기
컨트롤박스전원이켜지면시스템이자동으로부팅을시작합니다. 부팅은약1‑2 분정도소요되며
모든부팅과정이정상적으로완료되면로봇의엔드툴표시등이녹색또는빨간색으로점등됩니다.
• 녹색점등: 로봇이정상상태로부팅완료되었습니다.
• 빨간색점등: 로봇이에러상태로부팅되었습니다. Conty에접속하여에러상태확인후복구를
실행하십시오.
• 빨간색점멸: 로봇이부팅되지않았습니다. 점멸상태가지속될경우제조사에문의하십시오.
114

================================================================================
9. 시작하기
9.2
시작화면
Conty 앱을최초실행하면아래그림과같은시작화면이나타납니다. 시작화면에서는로봇의자동운전
모드를위한프로그램, 실행, 설정의주메뉴와수동운전모드및각종진단과관리를위한이동, 시스템,
복구, 알림및연결의보조메뉴가제공됩니다.
• 연결하기:
Conty와컨트롤박스를무선또는유선으로연결하기위한연결모드가제공됩니
다.
• 로봇수동조작(이동): 조그와같은로봇의수동조작화면이제공됩니다.
• 프로그램작성: 로봇으로특정작업을자동으로하기위해필요한프로그램작성화면이제공됩니
다.
• 실행: 작성된프로그램의실행제어와프로그램실행중각종이벤트와변수, 그리고디지털입출력
상태확인화면이제공됩니다.
• 설정: 로봇, 프로그램, 시스템및Conty 환경설정화면이제공됩니다.
• 시스템: 로봇시스템에대한진단, 관리, 유지보수화면이제공됩니다.
• 복구: 로봇이안전기능으로인해동작이중지된경우로봇을알람으로부터복구합니다.
• 알람메시지: 로봇사용중에발생한모든알람내역이표시됩니다.
115

================================================================================
9. 시작하기
9.3
연결하기
로봇의조작및상태확인, 또는각종설정을하기위해서는먼저Conty를컨트롤박스와연결해야합니다.
Conty와의연결은Wi‑Fi 또는USB로연결할수있습니다.
• 우측상단의
1 연결아이콘(
)을터치합니다.
• 이때아이콘색상이적색이면컨트롤러와연결이해제된상태를의미하며, 녹색이면연결된상태를
의미합니다.
•
2 Wi‑Fi 로연결하기를터치하면컨트롤박스가무선공유기를통해Conty와연결할수있습니다.
•
3
USB 케이블로연결하기를터치하여Conty와컨트롤박스를USB 케이블을통해연결할수
있습니다.
116

================================================================================
9. 시작하기
Wi‑Fi로연결하기
Wi‑Fi로Conty 연결하기를참조하여네트워크연결구성을먼저수행하십시오. Wi‑Fi로연결하기를
터치하면아래와같이팝업메뉴가나타납니다.
•
1 네트워크상태를나타내며연결된무선네트워크이름과Wi‑Fi 신호강도가표시됩니다.
•
2 IP 입력필드에연결하고자하는컨트롤박스의IP 주소를입력합니다.
• 과거연결한IP 주소내역은
3 연결리스트에표시됩니다. 리스트에서원하는IP 를선택하면IP
주소에자동으로입력됩니다.
• IP 주소입력후
4 연결버튼을누르면연결을시도합니다. 연결에성공하면연결아이콘색상이
녹색(
)으로변경되면서인스턴트메시지(“연결에성공하였습니다.”)가나타납니다.
무선네트워크연결상태가좋지않을경우Conty에서의로봇조작이원활하지
않거나로봇과의연결이자동으로끊길수있습니다. 따라서무선네트워크신호
가좋은환경에서의사용을권장합니다.
Wi‑Fi 연결은무선네트워크에연결된환경에서사용을가능하게합니다. 무선
네트워크환경에서IP 주소를모를경우USB 케이블로연결하기를통해IP 주소
확인이가능합니다.
117

================================================================================
9. 시작하기
USB 케이블로연결하기
USB로Conty 연결하기을참조하여USB 연결구성을먼저수행하십시오. 무선네트워크가불안정하
거나제공되지않는환경, 또는무선네트워크에연결되었지만IP 주소를모를경우USB 케이블을통해
Conty를연결할수있습니다.
IP 주소확인
USB로연결후시스템화면을터치후제품정보화면에서연결된컨트롤박스의IP를확인할수있습니다.
이후 연결 버튼을 누릅니다.
연결실패및연결대기
Wi‑Fi 또는USB로연결시연결이성공하면“연결에성공하였습니다.” 라는인스턴트메시지가표시되
며연결아이콘색상은녹색(
)로표시되지만, 연결에실패할경우“연결에실패하였습니다.”가
표시됩니다.
로봇이준비중인상태에서연결을하게되면, 아래와같은팝업메시지가나타나며연결아이콘색상은
주황색(
) 으로깜빡입니다.
118

================================================================================
9. 시작하기
9.4
상태확인
제품정보확인하기
Conty와컨트롤박스간연결이성공적으로완료되면로봇을동작하기전제품의상세정보를먼저확인
합니다. 제품의상세정보는시스템화면에서확인이가능하며상세한내용은제품정보를참조하십시오.
시스템업데이트하기
제품을최신의기능과최상의성능으로사용하기위해서는최신소프트웨어사용을권장합니다. 현재
컨트롤박스에설치된로봇소프트웨어버전과Conty 소프트웨어의버전이다를경우, Conty 연결시
자동으로시스템업데이트화면이로이동하게됩니다. 시스템업데이트를참조하여소프트웨어업데이트
방법에대해확인할수있습니다.
119

================================================================================
10. 로봇의운전모드
10
로봇의운전모드
로봇의운전모드는ISO 10218‑1 표준을기준으로설계된안전기능이며자동모드와수동모드로
나뉘어집니다.
운전모드
기능
자동모드
사전작성한프로그램실행제어만가능하며로봇수동조작불가
수동모드
로봇수동조작및프로그램작성이가능하며, 로봇프로그램실행시제한속도
이하로만실행가능
10.1
수동운전모드
수동모드는직접로봇을제어하거나Conty를통해프로그램을편집할수있는모드입니다.
• 프로그램작성/수정, 조그이동및직접교시가가능합니다.
• 인디키또는nPAD를사용하는경우이네이블스위치를누르고있는동안에만로봇을움직일수
있습니다.
• 안전규정상로봇말단속도는250mm/s 이하로제한되며, 프로그램실행시수동감속모드로
실행됩니다.
• 로봇이수동감속모드로작동중일때에작업자는가능하면보호영역외부에있어야합니다. 보호
영역내부에서작업시에는위험성평가를통해협동응용을위한대책이충분히마련되어운전자를
보호해야합니다. 예를들어, 로봇에서제공하는PFL (Power and Force Limit) 기능(CRI 자동
120

================================================================================
10. 로봇의운전모드
감속모드)이활성화상태이거나, 엔드툴이상해를크게입힐수없는형태이어야하거나, 작업자가
적절한보호구를착용하는것입니다.
• 사람과같은작업공간에서로봇을수동모드로동작시킬경우절대로충돌
감지기능을꺼서는안됩니다.
• 충돌감지기능이켜져있더라도날카롭거나위험한툴이로봇에장착된
경우라면로봇작업반경내에사람이접근할수없습니다. 위험성평가에
의해허용되는경우에만접근이허용됩니다.
121

================================================================================
10. 로봇의운전모드
10.2
자동운전모드
자동모드는작성된프로그램을실행하는모드로사용자의접근및직접조작이제한되는모드입니다.
• 프로그램작성/수정, 조그이동및직접교시가불가능합니다.
• Conty 또는API를통한프로그램실행제어가가능합니다.
• 인디키를사용하는경우Conty로는프로그램실행이불가능하며인디키로만실행이가능합니다.
• 운전모드를수동모드로전환할때에도인디키연결시인디키로만운전모드전환이가능합니다.
• 컨트롤박스와연결된안전장치(라이트커튼, 레이저스캐너등)는자동모
드로로봇을동작시반드시활성화상태여야합니다.
• 로봇을자동모드로동작시킬경우에도절대로충돌감지기능을꺼서는안
됩니다.
122

================================================================================
10. 로봇의운전모드
10.3
인디키사용시의운전모드
인디키를사용할때와사용하지않을때각기Conty에서의기능사용가능여부는다음과같습니다.
인디키미사용시
기능
수동모드
자동모드
프로그램작성/수정
가능
불가능
조그이동
가능
불가능
직접교시
가능
불가능
프로그램실행
가능
가능
운전모드전환
가능
가능
인디키사용시
인디키사용시Conty의일부기능은이네이블스위치를누르는동안에만사용이가능합니다. 또한
프로그램실행및운전모드전환은Conty에서사용이제한되고인디키로만사용이가능하게됩니다.
기능
수동모드
자동모드
프로그램작성/수정
가능
불가능
조그이동
가능(이네이블)
불가능
직접교시
가능(이네이블)
불가능
프로그램실행
가능(이네이블, 속도제한)
불가능(인디키로만가능)
운전모드전환
불가능(인디키로만가능)
불가능(인디키로만가능)
123

================================================================================
10. 로봇의운전모드
10.4
nPAD 사용시의운전모드
nPad에설치된Conty를사용하는경우메인화면에서로봇에접속했을때아래와같이시작화면이나
타납니다. nPAD의이네이블스위치를눌러야다른화면으로이동할수있으며, 그외인디키와동일하게
수동조작기능사용시이네이블스위치를누르고있어야합니다.
nPAD 사용시Conty의일부기능은이네이블스위치를누르는동안에만사용이가능합니다.
기능
수동모드
자동모드
프로그램작성/수정
가능
불가능
조그이동
가능(이네이블)
불가능
직접교시
가능(이네이블)
불가능
프로그램실행
가능
가능
운전모드전환
가능
가능
124

================================================================================
11. 로봇수동조작(이동)
11
로봇수동조작(이동)
로봇을수동으로조작하기위한기능과로봇이동의공통옵션에대해설명합니다. 로봇수동조작은
단순로봇의위치이동을목적으로사용할수있는이동화면과, 경유점이나위치등록시로봇을특정
위치로직접이동후해당위치를등록하기위한교시화면두가지가있습니다. 이동화면과교시화면의
구성은동일하며사용목적만다릅니다. 또한수동조작기능사용시공통적으로적용되는이동옵션이
있습니다.
로봇수동조작은수동운전모드에서만사용이가능하며인디키, nPAD 연결시이네이블스위치를
누르고있는상태에서만동작합니다.
11.1
이동옵션
이동및교시화면에서공통적으로사용되는이동옵션기능은다음과같습니다.
아이콘
설명
조그모션의속도레벨조절바아이콘입니다. 속도레벨을1부터3까지조절할수
있습니다.
이아이콘버튼을누르고있는동안로봇은타겟위치로이동합니다. 로봇동작중에
버튼에서손을떼면로봇은즉시동작을중지합니다.
직접교시모드전환아이콘입니다. 직접교시모드일때에는사용자가로봇에힘을
가하여로봇을움직일수있습니다.
특이점회피모드전환아이콘입니다. 작업공간이동시에만사용이가능하며, 로
봇이동시특이점구간에서도에러를발생시키지않고정상적으로동작이되도록
합니다.
누르는동안입력위치로이동
로봇을특정위치로이동시키는기능으로버튼을누르는동안로봇이이동을하며, 버튼에서손을떼면
이동이멈추게됩니다.
직접교시
직접교시는사용자가로봇각관절에직접힘을가해로봇을원하는위치및자세로이동시키는수동모드
기능입니다. 직접교시버튼은이동화면, 프로그램화면등교시를위한다양한화면에서제공됩니다.
• 직접교시꺼짐을터치하면직접교시모드가켜지면서버튼은직접교시켜짐으로바뀝니다.
125

================================================================================
11. 로봇수동조작(이동)
• 직접교시모드일때에는좌측3D 그래픽의그라운드표시는진한파란색입니다.
• 직접교시켜짐을터치하면직접교시모드가꺼지면서버튼은직접교시꺼짐으로바뀝니다.
• 직접교시모드가꺼진상태에서좌측3D 그래픽의그라운드표시는밝은하늘색입니다.
직접교시모드가꺼진상태(좌), 직접교시모드가켜진상태(우)
직접교시모드는로봇이중력에의한힘과마찰력에의한힘을보상하면서외력에
순응하여움직이도록하는제어기법입니다. 직접교시모드로로봇조작시너무
많은힘을주어야로봇이움직이거나(낮은민감도), 반대로너무작은힘에도각
관절이빠르게움직일경우(높은민감도) 설정화면의직접교시에서직접교시의
민감도를조정할수있습니다.
실제로봇에달린툴제원과Conty 상에입력된툴제원값이다른상태에서직접
교시모드로진입할경우부정확한중력보상으로인해로봇이중력방향또는반대
방향으로움직일수있습니다. 반드시직접교시모드사용전툴제원을정확히
입력하십시오.
126

================================================================================
11. 로봇수동조작(이동)
특이점회피
MoveL과MoveC 등의작업공간모션실행시, 로봇은모션특이점에직면할수있습니다. 특이점회피
기능을활성화하면, 로봇은이러한특이점을효과적으로우회하여중단없이연속적으로작업을수행할
수있습니다. 그러나이기능을사용할때로봇이특이점을우회하기위해경로를조정함에따라, 예정된
정확한위치에도달하지못할수도있음을유념해야합니다.
127

================================================================================
11. 로봇수동조작(이동)
11.2
이동화면
아래그림과같이Conty 화면상단의이동탭을터치하여기본이동화면으로이동할수있습니다.
•
1 로봇상태창에서는로봇의3차원자세와현재로봇의관절각도및작업공간위치를확인할
수있습니다.
•
2 시점버튼을터치하면7가지시점을선택할수있습니다.
•
3
3D 로봇화면은현재의로봇자세와타겟로봇자세(보라색)를확인할수있습니다. 누르는
동안입력위치로이동버튼을누르는동안실제로봇은보라색타겟자세로이동합니다. 스크린
터치를통해로봇의시점을좌우상하로옮길수있으며멀티터치를통해시점을줌인, 줌아웃할수
있습니다.
•
4 상태창에서는현재로봇의관절각도와작업공간위치를확인할수있습니다. 좌측관절각도의
경우단위는degree이며괄호안은부하율을나타냅니다(현재토크/최대토크%). 우측작업공간
위치의경우x, y, z 위치의단위는mm 이며u, v, w 자세각도의단위는degree입니다. 작업공간
128

================================================================================
11. 로봇수동조작(이동)
위치와자세에대한표현방법은로봇위치와좌표계를참조하십시오.
•
5
우측창에서는관절위치이동, 작업위치이동(참조좌표계, 툴좌표계), 지정위치이동을통해
다양한방법으로로봇을수동조작할수있는기능을제공합니다.
129

================================================================================
11. 로봇수동조작(이동)
11.3
교시화면
교시화면은기본이동화면과구성이동일하나이동후현재위치를등록하기위한등록버튼과교시화면
을끄기위한취소버튼이우측하단에있습니다. 또한상단에는현재의이동화면이어떤교시화면인지
나타내는상태메시지가나타납니다.
프로그램작성시경유점등록, 로봇설정창에서홈위치등록등과같이다양한상황에서로봇위치
등록을위해교시화면으로이동할수있습니다. 아래는교시화면으로이동하는버튼의예시들을나타냅
니다.
아이콘
설명
아이콘
설명
절대위치경유점등록
홈/커스텀위치등록
상대위치경유점등록
참조좌표계3점위치등
록
위치변수등록
팔레타이징위치등록
컨베이어트래킹방향등
록
130

================================================================================
11. 로봇수동조작(이동)
11.4
관절위치이동
관절위치이동은관절공간에서정의된각관절의회전방향을기준으로로봇을일정한속도나간격으로
이동시키거나, 사용자가지정한관절의절대또는상대위치로로봇을수동으로이동시키는모드입니다.
아래그림은로봇각관절의위치와회전방향을나타냅니다.
6자유도로봇(좌)과7자유도로봇(우)의각관절인덱스및회전방향
관절위치이동에서는방향이동기능과타겟위치를직접입력후이동하는기능을제공합니다. 방향
이동기능의경우속도를지정하는방법과간격을지정하는방법이제공됩니다. 타겟위치를직접입력
후이동하는기능은타겟위치를절대위치로입력하는방법과상대위치로입력하는방법이제공됩니다.
이동방법
구분1
구분2
관절위치이동
방향
속도
방향
간격
위치
절대
위치
상대
131

================================================================================
11. 로봇수동조작(이동)
방향, 속도를이용한관절위치이동
•
1 관절위치이동을선택하십시오.
• 이동옵션
2 방향과
3 속도를선택하십시오.
•
4 관절별이동버튼을통해로봇을움직일수있습니다.
•
버튼을누르는동안+ 방향으로이동합니다.
•
버튼을누르는동안‑ 방향으로이동합니다.
•
5
로봇시뮬레이션창에선택된로봇의관절과회전방향이표시되며, 실제로봇의움직임이
시뮬레이션창에서반영이됩니다.
132

================================================================================
11. 로봇수동조작(이동)
방향, 간격을이용한관절위치이동
•
1 관절위치이동을선택하십시오.
• 이동옵션
2 방향과
3 간격를선택하십시오.
•
4 회전단위에이동간격값을입력합니다. 최대10도까지설정가능합니다.
•
5 관절별이동버튼을통해로봇을움직일수있습니다.
•
버튼을누르면설정된값만큼+방향으로이동합니다.
•
버튼을누르면설정된값만큼‑ 방향으로이동합니다.
• 관절회전완료후버튼을계속누르고있더라도로봇은움직이지않습니다. 다시이동하기
위해서는버튼을떼고다시누르십시오.
133

================================================================================
11. 로봇수동조작(이동)
타겟위치값입력을이용한관절위치이동
로봇을사용자가입력한관절의절대위치또는상대위치로이동시키는방법에대해설명합니다.
•
1 관절위치이동탭에서
2 위치를선택하십시오.
•
3 절대또는
4 상대를선택할수있으며,
5 타겟위치입력창에서각관절별타겟위치값을
관절이동한계값까지입력할수있습니다.
• 이동옵션이
3 절대인경우각관절의영점을기준으로타겟위치까지회전합니다.
• 이동옵션이
4 상대인경우각관절의현재위치를기준으로사용자가입력한타겟위치만큼
회전합니다. 따라서
5 타겟위치의각관절의값은현재위치를0으로표시하며, 사용자는
상대위치로입력해야합니다.
•
6
버튼을누르는동안사용자가직접입력한타겟위치까지모든관절이
회전합니다.
134

================================================================================
11. 로봇수동조작(이동)
11.5
작업위치이동(참조좌표계)
참조좌표계기준의작업위치이동은아래그림과같이작업공간에서정의되는툴중심점을참조좌표계
기준으로일정한속도또는일정한간격으로로봇을이동시키거나사용자가입력한작업공간상의절대
위치또는상대위치로로봇을이동시키는수동모드입니다.
참조좌표계는참조좌표계에서설정하여저장후불러올수있습니다.
이동방법
구분1
구분2
작업위치이동(참조좌표계)
방향
속도
방향
간격
위치
절대
위치
상대
135

================================================================================
11. 로봇수동조작(이동)
방향, 속도를이용한참조좌표계작업위치이동
• 이동화면에서
1 작업위치이동(참조)을선택하십시오.
• 이동옵션
2 방향과
3 속도를선택하십시오.
•
4
참조좌표계를선택합니다. 참조좌표계에서사전설정후저장된리스트중하나를선택할수
있습니다.
•
5 축별이동버튼을통해로봇을각축별로움직일수있습니다.
•
버튼을누르는동안해당축의+방향으로이동/회전합니다.
•
버튼을누르는동안해당축의‑방향으로이동/회전합니다.
•
6
로봇시뮬레이션창은현재로봇의자세와선택된참조좌표계를나타냅니다. 실제로봇의
움직임이시뮬레이션창에서반영이됩니다.
136

================================================================================
11. 로봇수동조작(이동)
방향, 간격을이용한참조좌표계작업위치이동
• 이동옵션이
1 간격인경우
2 이동단위와회전단위를입력할수있습니다.
• 이동단위: 최대30mm 까지설정할수있습니다.
• 회전단위: 최대10도까지설정할수있습니다.
•
3 축별이동버튼을통해로봇을각축별로움직일수있습니다.
•
버튼을누르면해당축의+방향으로이동/회전합니다.
•
버튼을누르는해당축의‑방향으로이동/회전합니다.
• 이동완료후버튼을계속누르고있더라도로봇은움직이지않습니다. 다시이동하기위해서
는버튼을떼고다시누르십시오.
137

================================================================================
11. 로봇수동조작(이동)
타겟위치값입력을이용한참조좌표계작업위치이동
다음으로로봇의툴중심점을사용자가입력한참조좌표계기준의절대위치또는상대위치로이동시키는
방법에대해설명합니다.
•
1 작업위치이동(참조) 탭에서
2 위치를선택하십시오.
•
3 절대또는
4 상대를선택할수있으며,
5 축별타겟위치입력창에서각축별타겟위치
값을한계값까지입력할수있습니다.
– 이동옵션이
3
절대인경우
5 는현재위치를절대위치로표시합니다. 따라서사용자는
입력위치를절대위치로입력해야합니다.
– 이동옵션이
4
상대인경우
5 는현재위치를0 으로표시합니다. 따라서사용자는입력
위치를현재기준상대위치로입력해야합니다.
•
6
버튼을누르는동안사용자가직접입력한타겟위치까지툴중심점이
이동하거나회전합니다.
138

================================================================================
11. 로봇수동조작(이동)
11.6
작업위치이동(툴좌표계)
툴좌표계기준의작업위치이동은아래그림과같이작업공간에서정의되는툴중심점을동일한중심점에
놓여있는툴좌표계기준으로일정한속도또는일정한간격으로로봇을이동시키거나사용자가입력한
작업공간상의상대위치로로봇을이동시키는수동모드입니다.
툴좌표계는툴에서설정하여저장후불러올수있습니다.
이동방법
구분1
구분2
작업위치이동(툴좌표계)
방향
속도
방향
간격
위치
상대
139

================================================================================
11. 로봇수동조작(이동)
방향, 속도를이용한툴좌표계작업위치이동
• 이동화면에서
1 작업위치이동(툴)을선택하십시오.
• 이동옵션
2 방향과
3 속도를선택하십시오.
•
4 툴좌표계를선택하십시오. 툴에서사전설정후저장된리스트중하나를선택할수있습니다.
•
5 축별이동버튼을통해로봇을각축별로움직일수있습니다.
•
버튼을누르는동안해당축의+방향으로이동/회전합니다.
•
버튼을누르는동안해당축의‑방향으로이동/회전합니다.
•
6 로봇시뮬레이션창은현재로봇의자세와선택된툴좌표계를나타냅니다. 실제로봇의움직
임이시뮬레이션창에서반영이됩니다.
140

================================================================================
11. 로봇수동조작(이동)
방향, 간격을이용한툴좌표계작업위치이동
• 이동옵션이
1 간격인경우
2 이동단위와회전단위를입력할수있습니다.
• 이동단위: 최대30mm 까지설정할수있습니다.
• 회전단위: 최대10도까지설정할수있습니다.
•
3 축별이동버튼을통해로봇을각축별로움직일수있습니다.
•
버튼을누르면해당축의+방향으로이동/회전합니다.
•
버튼을누르는해당축의‑방향으로이동/회전합니다.
• 이동완료후버튼을계속누르고있더라도로봇은움직이지않습니다. 다시이동하기위해서
는버튼을떼고다시누르십시오.
141

================================================================================
11. 로봇수동조작(이동)
타겟위치값입력을이용한툴좌표계작업위치이동
다음으로로봇의툴중심점을사용자가입력한툴좌표계기준의위치로이동시키는방법에대해설명합
니다.
• 이동옵션
1 위치를선택합니다.
•
2 축별타겟위치입력창에서각축별타겟위치값을한계값까지입력할수있습니다.
• 툴좌표계타겟위치이동의경우상대위치로만입력할수있습니다.
• 현재위치를0 으로표시합니다. 따라서사용자는입력위치를현재기준상대위치로입력해야
합니다.
•
3
버튼을누르는동안사용자가직접입력한타겟위치까지툴중심점이
이동하거나회전합니다.
관절위치이동은로봇의모든작업영역에서동작이가능합니다. 반면작업위치
이동은특이점으로인해일부구간에서정확한동작이불가할수있습니다.
142

================================================================================
11. 로봇수동조작(이동)
11.7
지정위치이동
지정위치이동은사전에설정된위치로로봇을이동시키는수동모드입니다. 사전에설정된위치는홈
위치, 영위치, 패키징위치, 커스텀위치가있습니다.
홈위치는로봇프로그래밍시흔히작업의시작, 종료, 또는오류발생시복귀위치로사용됩니다.
영위치와패키징위치는각각관절의원점을정의하는위치와제품이초기에제품박스에보관되어있을
때의위치로써홈위치와달리사용자가변경할수없습니다. 이외자주사용하는위치를커스텀위치로
추가적으로저장할수있습니다.
• 이동화면에서
1 지정위치이동을터치합니다.
•
2 홈위치또는이동하고자하는위치를선택합니다.
•
3
버튼을누르는동안로봇은선택한지정위치로이동합니다.
• 홈위치, 커스텀위치는각각홈위치와커스텀위치을통해설정할수있습니다.
지정위치이동은관절공간에서의로봇이동과동일한방법으로지정위치까지톨
중심점이움직이기때문에경로가직선이아닌임의의곡선입니다.
143

================================================================================
12. 프로그램작성
12
프로그램작성
로봇이의도된작업을자동으로수행하도록다양한명령어를구성하고반복문과조건문을활용하여
로봇동작로직을프로그래밍할수있습니다. 로봇프로그램을통해로봇스스로물건을집어서다른위치
로옮기거나, 센서신호에따라선택적으로특정행동을수행하도록할수있습니다. 프로그램은Conty의
시작화면에서프로그램을터치하거나, 다른화면에서는상단좌측의프로그램버튼을터치하여진입할
수있습니다.
144

================================================================================
12. 프로그램작성
12.1
프로그램관리
프로그램화면으로최초진입하면아래와같이프로그램관리화면이나타납니다. 프로그램관리화면
에서는프로그램을새로만들거나기존저장된프로그램을불러와서편집할수있습니다. 프로그램은
Conty 저장소또는로봇저장소에저장할수있으며특정프로그램을인덱스프로그램으로지정할수
있습니다.
•
1 새로만들기: 새프로그램을만듭니다.
•
2 프로그램저장위치: 프로그램이저장된위치를선택합니다.
– 로봇저장소: 컨트롤박스에프로그램파일을저장하고불러옵니다.
– Conty 저장소: Conty가실행되는기기(태블릿PC 또는nPAD)에프로그램파일을저장하
고불러옵니다.
– 인덱스프로그램: 인덱스로지정된프로그램은컨트롤박스에저장되며(로봇저장소와별도),
외부장치로인덱스호출을통해저장된인덱스프로그램을실행시킬수있게합니다.
•
3 프로그램검색: 프로그램이름을통해저장된프로그램을검색합니다.
•
4 프로그램목록: 저장소별저장된프로그램목록을표시합니다.
•
5 프로그램관리: 저장된프로그램의복사, 삭제, 편집, 불러오기를할수있습니다.
– Conty 저장소로복사: 로봇저장소에저장된프로그램을Conty저장소로복사합니다.
– 삭제: 프로그램목록에서선택된프로그램을저장소에서삭제합니다.
– 이름편집: 프로그램목록에서선택된프로그램의이름을편집합니다.
– 불러오기: 프로그램목록에서선택된프로그램을프로그램화면으로불러옵니다.
– 닫기: 프로그램관리창을닫습니다.
145

================================================================================
12. 프로그램작성
•
6
Conty 저장소에저장된프로그램목록을나타냅니다. Conty에서사용자가작성중인프로
그램은10분주기로수정사항이생긴경우Conty 저장소에자동으로저장됩니다. 자동저장된
프로그램은프로그램파일이름앞에(자동저장) 이라는문구가붙어있습니다
•
7 로봇저장소로복사: Conty 저장소에저장된프로그램을로봇저장소로복사합니다.
•
8
인덱스프로그램은최대20개까지저장할수있습니다. 로봇저장소또는Conty저장소에
작성하여저장된프로그램을인덱스프로그램으로지정할수있습니다.
146

================================================================================
12. 프로그램작성
12.2
프로그램작성
•
1
프로그램트리:
사용자가작성한프로그램트리가표시됩니다. 편집창을통해프로그램
명령어순서를편집하고, 작성된프로그램을저장하거나불러올수있습니다. 프로그램이실행되면
프로그램트리의명령어들이위에서아래의순으로실행됩니다.
•
2 프로그램명령어: 프로그램명령어는모션, 흐름제어, 입출력, 응용, 즐겨찾기로구성됩니다.
– 모션명령어: 다양한로봇모션명령어와좌표계설정, 속도조절명령어들로구성되어있습
니다.
– 흐름제어명령어: 사용자가설정한조건에따라명령어의실행순서를제어합니다.
– 입출력명령어: 컨트롤박스또는엔드툴입출력신호와변수를제어합니다.
– 응용명령어:
컨베이어트래킹, 비전인식, 픽앤플레이스, 팔레타이징등모션, 흐름제어,
입출력명령어의복잡적인조합에대한템플릿을제공합니다.
– 즐겨찾기는자주쓰는명령어를등록할수있게합니다.
•
3 프로그램명령어설정창: 프로그램트리에서선택한명령어설정에필요한창이표시됩니다.
•
4 프로그램실행제어: 작성한프로그램을실행하거나일시정지, 재시작및정지기능을제공합
니다. 슬라이드바를통해로봇속도를실시간으로조절할수있으며, 자동운전/수동운전모드를
전환할수있습니다. 또한가상모드를통해시뮬레이션로봇구동을할수있습니다.
147

================================================================================
12. 프로그램작성
프로그램트리창
Conty 프로그램은트리기반의프로그래밍방식을제공합니다. 프로그램트리는하나이상의명령어
(브랜치, 노드)로구성됩니다. 일부브랜치의경우(예. If, Loop) 부모브랜치로서하위브랜치를보유할
수있습니다(자식브랜치). 부모브랜치에속한자식브랜치는명시적인들여쓰기를통해소속관계가
시각적으로표시됩니다. 또한트리내의브랜치의상태는색상을통해구분됩니다.
•
1 프로그램관리창: 프로그램이벤트추가, 스크립트확인, 인덱스프로그램으로저장, 프로그램
저장및불러오기기능을사용할수있습니다.
•
2 프로그램트리창: 편집중인프로그램트리를나타내는창입니다.
– 고정브랜치(Program, Variable): 프로그램생성시기본으로포함되어있는브랜치로서
추가및삭제가불가능하고실행위치를변경할수없습니다.
– 자유브랜치(Program, Variable 외나머지): 다양한명령어를추가하고구성하여프로
그램트리를만들수있습니다.
•
3 프로그램트리편집: 프로그램트리내명령어를복사, 이동, 잘라내기, 붙여넣기, 활성화/비활
성화하여손쉽게프로그램트리를편집할수있습니다. 또한선택된브랜치부터실행하는기능과
프로그램트리를그래프로시각화하여보여주는기능을제공합니다.
148

================================================================================
12. 프로그램작성
프로그램관리창
공정또는이벤트프로그램트리창으로의전환, 프로그램트리로표현된프로그램의스크립트확인, 또는
프로그램의작성또는저장과같이프로그램을관리합니다.
아이콘
설명
프로그램트리창을공정프로그램트리창으로전환합니다. 공정프로그램트리창에서는사용자가
프로그램명령어를자유롭게사용해공정프로그램작성이가능합니다.
프로그램트리창을이벤트프로그램트리창으로전환합니다. 이벤트프로그램트리창에서는공정
프로그램이실행되는동안특정조건이만족될때공정프로그램과병행해서실행되는이벤트프로그램
작성이가능합니다
작성된프로그램트리를스크립트로보여줍니다.
작성된프로그램을인덱스에등록하거나삭제합니다. 이때, 프로그램은인덱스1 번부터20 번까지
등록할수있습니다. 또한현재인덱스별로저장된프로그램이름을확인할수있습니다.
프로그램관리화면이표시됩니다. 프로그램관리화면에서는프로그램을새로만들거나저장소별로
저장된프로그램을불러옵니다. 또한저장된프로그램의이름을편집하거나삭제할수있습니다.
작성된프로그램을저장합니다. 이때, 프로그램은Conty가연결된컨트롤박스의저장소, 즉, 로봇
저장소에저장됩니다. 따라서Conty가컨트롤박스와연결되지않으면프로그램을저장할수없습니다.
149

================================================================================
12. 프로그램작성
고정브랜치: Program
•
1 Program을터치하면프로그램실행중충돌감지에대한옵션과비전사용여부를설정할수
있습니다.
•
2 충돌감지에서로봇이충돌이발생했을때의이후상황을선택할수있습니다.
• 일시정지유지: 충돌감지발생시로봇이일시정지를하도록합니다. 이옵션은일시정지
상태를유지합니다.
• 일시정지> 설정시간이후재시작: 충돌감지발생시로봇이일시정지후설정된시간이후에
프로그램을재시작하도록합니다.
• 프로그램종료: 충돌감지발생시실행중인프로그램이종료되도록합니다. 이경우프로그
램이정지하기때문에로봇도멈추게됩니다.
• 꺼짐: 충돌감지기능을끕니다.
•
3
비전에서비전기능을켜고끌수있습니다. 인디아이(IndyEye)를포함한Conty에서연동
기능을제공하는비전사용시반드시켬으로설정하십시오.
로봇이펜스또는격벽에둘러쌓여있는경우와같이방호조치가완벽한상황을
제외하고는충돌감지기능을끄지마십시오. 충돌감지기능을끌경우에는작업자
안전과잘못된티칭으로인한기물파손등에각별히유의하시기바랍니다.
150

================================================================================
12. 프로그램작성
고정브랜치: Variable
프로그램에사용되는변수를선언합니다. 총6 가지자료형을제공하며변수이름과변수가속한주소를
설정합니다. 설정된변수는SetVar 커맨드와수식(Expression)에서사용할수있습니다.
•
1 Variables를터치하면명령어설정창에서변수를등록할수있습니다.
•
2 변수리스트에는저장된변수목록이나타납니다.
•
버튼을눌러새로운변수를추가할수있습니다.
•
버튼을눌러등록된변수를삭제할수있습니다.
•
3 선택한변수정보에서추가하고자하는변수타입, 변수이름, 주소를선택하여등록할수있습
니다.
– Int, Float, Boolean 변수의주소사용범위: 0‑999
– Jpos, Tpos 변수의주소사용범위: 0‑999
– Modbus 변수의주소사용범위: 0‑65535
– 유지변수를활성화하면프로그램종료이후에도해당변수의값이초기화되지않고유지가
됩니다.
– 이름을작성하고주소를입력후업데이트를터치하면설정된변수가저장됩니다.
151

================================================================================
12. 프로그램작성
•
3 Modbus 변수선택시에는아래와같이서버와신호콤보박스가생성됩니다.
• 모드버스서버는사전에설정‑모드버스서버를통해등록되어야합니다. 자세한내용은모드버스
서버를참조하십시오.
• 서버콤보박스터치시사전등록된모드버스서버리스트중사용할서버를선택할수있습니다.
신호콤보박스터치시비트읽기/쓰기, 워드읽기/쓰기중하나를선택할수있습니다.
자유브랜치
프로그램명령어창에서제공되는모션, 흐름제어, 입출력, 응용명령어를사용자가추가를통해생성되는
브랜치로서추가및삭제가자유롭고프로그램트리내에서쉽게실행위치를변경할수있습니다.
152

================================================================================
12. 프로그램작성
프로그램명령어편집
프로그램트리내의명령어들의복사, 붙여넣기등명령어편집기능을제공합니다.
기능
설명
선택한명령어줄부터프로그램을실행합니다.
작성된프로그램트리를시각화하여보여줍니다.
가장최근에추가/삭제된명령어를취소합니다.
가장최근에취소된명령어를다시추가합니다.
프로그램트리에서선택된명령어를위로이동합니다.
프로그램트리에서선택된명령어를아래로이동합니다.
프로그램트리에서선택된명령어를복사합니다.
프로그램트리에서선택된명령어를삭제합니다.
복사/잘라내기된명령어를프로그램트리에서선택된명령어아래에붙여넣습니다.
프로그램트리에서선택된명령어를활성화또는비활성화합니다.
프로그램트리에서선택된명령어를잘라내기합니다.
프로그램트리에서명령어를다중으로선택합니다.
153

================================================================================
12. 프로그램작성
아래는프로그램트리시각화와프로그램트리스크립트화면예시를보여줍니다. 프로그램트리가
복잡할경우시각화된트리를보면서전체적인프로그램트리구조를보다수월하게확인할수있습니다.
시각화그래프가화면을넘어갈경우화면터치를통해트리화면을이동할수있습니다. 프로그램트리
스크립트의경우json 형식으로표현된프로그램트리를확인할수있습니다.
154

================================================================================
12. 프로그램작성
프로그램명령어창
프로그램명령어창에서는공정프로그램또는이벤트프로그램작성시에필요한명령어를제공합니다.
프로그램명령어는로봇의이동, 각종신호의입출력, 그리고프로그램흐름제어등프로그래밍에필요한
다양한명령어들로구성되어있습니다.
모션
명령어
기능
MoveJ
사용자가입력한관절위치까지임의경로로로봇을이동
MoveL
사용자가입력한작업위치까지직선경로로로봇을이동
MoveC
사용자가입력한작업위치를지나는호또는원의경로로로봇을이동
MoveR
기술교시기능으로텔레오퍼레이션으로녹화된모션을재생(Replay)하여이동
MoveLF
사용자가입력한작업위치까지힘제어를하면서직선경로로로봇을이동
MoveGcode
G‑Code를로봇모션으로변환하여로봇이동
GoHome
사전에설정된홈위치까지임의경로로로봇을이동
BreakMotion
현재이동중인경로를유지한채로봇을감속후정지
Clone
프로그램내에정의된다른모션명령을실행
SetFrame
사용자가지정한툴좌표계또는참조좌표계를자식트리에적용
SetSpeedRatio
다음명령어부터실행되는모든모션명령어속도를변경
SetToolMass
다음명령어부터실행되는모든모션명령어의툴제원을변경
155

================================================================================
12. 프로그램작성
흐름제어
명령어
기능
If / ElseIf / Else
사용자가설정한조건에따라자식트리의명령어실행여부를결정
Sleep
사용자가설정한조건을만족할때까지프로그램을일시정지
Loop
사용자가설정한조건으로자식트리를반복실행
Break
Loop 에의해반복실행중인자식트리의실행을중지
QuitProgram
현재실행중인프로그램을중지
Group
일련의명령어들을하위트리로그룹화하여정리
Annotation
프로그램트리상에주석처리
Continue
Loop 안의자식트리실행을멈추고Loop 안의자식트리처음으로돌아가다시
실행
Alarm
현재실행중인프로그램을일시정지하고사용자가설정한메시지를팝업창에
출력
Event
공정프로그램실행중사용자가설정한조건만족시이벤트프로그램실행
Timer
프로그램트리상에서시작점으로설정된노드에서끝점으로설정된노드까지의
시간을측정
TactTime
인디케어클라우드서버에로봇조업데이터를전송
입출력
명령어
기능
SetSignals
컨트롤박스와엔드툴포트의디지털출력및아날로그출력
SetTool
사용자툴리스트에서선택된툴로신호를출력
SetVar
Variable 에서선언된변수의값을설정
156

================================================================================
12. 프로그램작성
응용
명령어
기능
Pick/Place
일련의순서대로로봇을이동하고그리퍼를제어
Palletize
일정한패턴을생성하여Pick/Place 수행
Detect/Retrieve
연결된비전을이용한물체감지및인식
샌딩(Sanding)
샌딩툴의동작제어
F/T Zero
힘/토크센서리셋
컨베이어트래킹
(Conveyor
Tracking)
컨베이어트래킹기능
프로그램명령어설정창
프로그램명령어별명령어설정을할수있습니다. 프로그램명령어에해당하는명령어설정창이있고,
프로그램명령어추가시추가적인설정에필요한하위명령어가생성되는경우하위명령어에대해서도
동일하게명령어설정창을통해설정이가능합니다. 명령어설정에대한상세한설명은각명령어장에
기재되어있습니다.
• 모션명령어
• 흐름제어명령어
• 신호입출력명령어
• 응용명령어
157

================================================================================
12. 프로그램작성
12.3
프로그램실행제어
프로그램작성후프로그램실행제어창의실행버튼을터치하면프로그램이실행됩니다. 프로그램이
실행되게되면실행제어프로그램작성화면은프로그램실행상태화면으로변경됩니다.
실행에서는프로그램실행제어만할수있는화면이고, 프로그램작성화면에서도실행화면과유사
하게입출력및변수상태를모니터링할수있습니다. 프로그램이실행되는동안입출력및변수상태를
모니터링할수있습니다.
•
1 프로그램실행제어창을통해프로그램상태를제어할수있습니다. 기본적으로시작, 정지,
일시정지, 재시작을할수있으면실행되는동안에는슬라이드바를통해로봇의모션속도를실시
간으로조절할수있습니다. 실제교시된속도가100% 일때0%부터100% 사이의실행속도를
조절할수있습니다. 프로그램이실행되게되면기존프로그램작성화면은프로그램실행상태
모니터링화면으로전환됩니다.
•
2 프로그램트리창에서는현재실행중인프로그램트리상에서실행중인명령어가하이라이트
로표시됩니다.
•
3 프로그램상태모니터링창에서는로봇실행누적시간, 관절위치, 작업공간위치, 선택된좌표
계, 로봇의자세3D화면등을실시간으로확인할수있습니다.
158

================================================================================
12. 프로그램작성
•
4 하단패널에서변수또는입출력탭선택을통해실시간변수및입출력상태를확인할수있습
니다.
• 인디키를사용할경우프로그램실행제어패널은수동모드이면서이네이
블스위치를누르고있는동안에만활성화됩니다.
• 수동모드에서는프로그램실행시로봇의최대속도는250mm/s로제한
이됩니다.
• 자동모드에서는인디키의프로그램실행버튼으로프로그램을실행할수
있습니다.
159

================================================================================
13. 모션명령어
13
모션명령어
모션명령어들은사용자가저장한위치로로봇을이동하거나모션속성을변경하는데사용됩니다.
관절공간모션과작업공간모션으로나뉘어집니다.
• 관절공간모션: 각관절의회전방향을타겟으로움직이므로역기구학연산이필요없어안정적인
모션을실행할수있지만직선이나원호와같은경로를생성할수없습니다.
• 작업공간모션:
작업공간에서의3차원위치와회전각도를타겟으로움직일수있어직선이나
원호와같은경로로로봇을움직일수있지만역기구학연산에의한특이점이발생할수있습니다.
다만, 특이점회피를사용할경우이러한특이점에의한사항을완화할수있습니다.
아래는Conty에서제공하는모션명령어중관절공간과작업공간모션이적용되는명령어들과모션
속성을변경하는명령어들을구분한것입니다.
모션타입
모션명령어
관절공간모션
MoveJ, GoHome
작업공간모션
MoveL, MoveC, MoveLF, MoveGcode
모션속성변경
SetFrame, SetSpeedRatio, SetToolMass
160

================================================================================
13. 모션명령어
13.1
모션명령어설정
모션명령어는사용자가입력한위치로로봇을이동시키거나또는이동위치와속도의설정과관련된
명령어들로구성되어있습니다. 모션명령어설정을통해다양한형태의로봇모션명령어를생성할수
있습니다.
•
1 명령어창에서모션명령어리스트를확인할수있으며, 리스트중추가하고자하는명령어를
터치하면좌측프로그램트리에해당명령어가추가됩니다.
•
2 MoveL 명령어를추가할경우MoveL 모션명령어와이에필요한
3 하위명령어가추가됩
니다.
•
2 MoveL 모션명령어를선택하면우측에
4 모션명령어설정창이나타납니다.
161

================================================================================
13. 모션명령어
4 모션명령어설정은다음과같습니다.
설정
설명
모션이름
모션이름설정을통해복잡한로봇공정구축시편의성을향상시킵니다.
모션속도설정
로봇의이동속도를속도/가속도또는시간기반으로설정할수있습니다.
충돌감지민감도
설정
각모션명령어별로충돌민감도를설정할수있습니다.
이동방법설정
(절대위치,
상대위치)
로봇의위치를기준좌표계의원점에서정의되는절대위치또는시작점과
끝점의벡터로정의되는상대위치로설정할수있습니다.
동기/비동기설정
비동기모션설정을통해조건, 디지털신호, 또는모션의상태에따라다음
명령어실행타이밍을제어할수있습니다.
특이점회피
작업공간이동명령에있어다관절로봇에서발생하는특이점을회피할수
있습니다.
순응모드
모션실행시순응제어모드로실행할지에대해선택할수있습니다.
3 하위명령어설정은다음과같습니다.
설정
설명
블렌딩
(Blending)
모션중에정지없이현재의모션을유지하면서다음경유점을중첩해서이동할
수있으며, 또는다음모션으로빠르게전환해서이동할수있습니다.
쉬프트설정
모션티칭포인트에위치오프셋을일괄적용할수있습니다. 설정된오프셋값은
하위경유점전체에적용이됩니다.
경유점(WP)
모션별경유점을추가할수있습니다. 경유점추가시추가된경유점들은WP1
부터순차적으로하위노드에생성됩니다.
162

================================================================================
13. 모션명령어
모션속도설정
속도/가속도기반
로봇의속도궤적은사다리꼴형태로가속/등속/감속순서로진행됩니다. 사용자가설정한가속도로
가속하고설정한속도에도달하면등속을유지한채이동하다가목표위치부근에서가속시와동일한
가속도로감속후정지합니다. 단, 설정속도까지도달할만큼이동거리가충분하지못한경우에는등속
없이바로가속시와동일한가속도로감속후정지합니다.
설정속도까지도달할만큼이동거리가충분한경우(좌), 설정속도까지도달할만큼이동거리가충분하지
못한경우(우)
• 속도설정: 최대속도의1%부터100%까지로설정(예. 관절공간최대속도가180deg/s 일경우
50% 설정시90deg/s, 작업공간최대속도가1m/s일경우60% 설정시0.6m/s)
• 가속도설정:
설정한속도의1%부터900%까지로설정(예. 설정한속도가100deg/s 이고
가속도가200%일경우가속도는200deg/s2)
일반적인협동로봇의관절의최대속도는180deg/s, TCP 최대이동속도는1m/s, TCP 최대회전속
도는120deg/s 이지만이는로봇사양에따라차이가있습니다. 가속도가너무높게설정될경우토크
리미트알람이발생할수있습니다.
시간기반
모션속도를시간으로선택하게되면로봇은설정한시간내목표위치까지이동합니다. 로봇의속도궤적은
속도기반과달리등속구간이존재하지않습니다. 사용자는시간을0.01 초단위로각경유점에서설정할
수있습니다.
먼거리를짧은시간으로설정할경우속도와가속도가높아지므로로봇의빠른
속도에주의하시기바랍니다.
163

================================================================================
13. 모션명령어
충돌감지민감도설정
충돌감지민감도를설정합니다. 사용자는각모션명령어별로아주둔감한에서아주민감한까지총5
단계로충돌감지민감도를설정할수있으며, 아주민감한에가까울수록로봇은작은충돌에도인식하고
정지합니다.
설정방식
설명
충돌감지민감도가아주둔감합니다.
충돌감지민감도가둔감합니다.
충돌감지민감도가보통입니다.
충돌감지민감도가민감합니다.
충돌감지민감도가아주민감합니다.
164

================================================================================
13. 모션명령어
이동방법설정(절대위치, 상대위치)
이동방법설정을통해로봇을티칭할때에절대위치기준으로티칭할지, 상대위치기준으로티칭할지를
선택할수있습니다. 작업공간에서의절대위치와상대위치의차이는아래그림에서와같이참조좌표계를
원점으로둘경우절대위치이며, 로봇의현재위치를원점으로둘경우상대위치가됩니다.
절대위치기준(좌), 상대위치기준(우)
관절공간의경우로봇의영점이원점일경우절대위치, 로봇의현재관절위치를원점으로둘경우
상대위치가됩니다.
절대위치기준
절대위치는로봇의현재자세나모션의시작점과관계없이, 고정된원점(관절공간의경우각관절영점,
작업공간의경우참조좌표계)을기준으로계산한목표자세혹은위치를말합니다.
모션
설명
관절공간
각관절의영점을원점으로이동하고자하는각관절의회전각도를티칭
작업공간
참조좌표계를원점으로이동하고자하는툴좌표계의위치와방향을티칭
165

================================================================================
13. 모션명령어
상대위치기준
상대위치는로봇의현재자세혹은위치가원점이되며, 절대위치기준으로는현재위치로부터목표위치
까지의변화량을나타냅니다.
모션
설명
관절공간
현재로봇의관절각도를원점으로이동하고자하는각관절의회전각도를
모션벡터로티칭
작업공간
현재로봇의작업공간위치를원점으로이동하고자하는위치와방향을
모션벡터로티칭
모션벡터
시작점과끝점두위치를티칭하여시작점으로부터끝점까지의벡터를계산하여
도출. 작업공간모션벡터티칭시에는참조좌표계기준, 툴좌표계기준중
하나를선택
상대위치를계산할때에는참조좌표계기준과툴좌표계기준으로모션벡터가달리계산되며, 참조좌
표계기준과툴좌표계기준의차이는아래그림과같습니다.
참조좌표계기준(좌), 툴좌표계기준(우)
절대위치및상대위치경유점등록에대한자세한사항은경유점(WP)을참고하십시오.
166

================================================================================
13. 모션명령어
동기/비동기설정
• 동기모션(Sync motion): 동기모션은명령을실행한후, 해당모션이완료될때까지기다린
뒤에다음명령이실행되는방식입니다. 즉, 한번에하나의명령어만처리되며, 모션이끝나야다음
작업이시작됩니다. 동기모션에서는모션경로의경유점에서반지름값을설정해모션블렌딩을
사용할수있습니다.
• 비동기모션(Async motion): 비동기모션은명령을실행한후, 모션의완료여부와상관없이즉
시다음명령어를실행하는방식입니다. 비동기모션을사용하면모션중에도다른명령어(Sleep,
SetSignals, SetVar 등)가동시에실행될수있습니다. 비동기모션의블렌딩방식은두가지가
있습니다.
• 갈아타기(Override): 첫번째모션에서다음모션으로자연스럽게전환되는방식
• 중첩하기(Duplicate): 두모션이동시에실행되며중첩되는방식
비동기모션에서는이블렌딩옵션을통해두명령간전환시점을제어할수있어다양한모션을
설계할수있습니다.
동기모션과비동기모션에서의블렌드설정에대한자세한사항은블렌딩(Blending)을참고하십
시오.
특이점회피
MoveL과MoveC 등의작업공간모션실행시, 로봇은모션특이점에직면할수있습니다. 특이점회피
기능을활성화하면, 로봇은이러한특이점을효과적으로우회하여, 중단없이연속적으로작업을수행할
수있습니다. 그러나이기능을사용할때로봇이특이점을우회하기위해경로를조정함에따라, 예정된
정확한위치에도달하지못할수도있음을유념해야합니다.
순응모드
순응모드제어(Compliance Mode Control)는로봇팔이외부환경과상호작용할때, 외력에대응하여
부드럽고유연하게동작하도록제어하는방식입니다. 이제어모드는특히사람이직접로봇을훈련시
키거나, 안전이중요한작업, 그리고로봇이부드러운표면이나불확실한환경과상호작용해야할때
사용됩니다.
순응모드를통해로봇이외부힘이나토크에반응하여유연하게움직일수있습니다. 이는작업중
충돌을완화하거나, 사용자와협력작업시안전성을높이는데유용합니다.
167

================================================================================
13. 모션명령어
경유점(WP)
모션명령어를추가하게되면각모션명령어하위노드에경유점을추가할수있습니다. MoveJ, MoveL
의경우제한없이경유점을추가할수있으며MoveC와비동기모션(예. AMoveJ) 명령어의경우각
명령어에서사전정의된경유점이자동으로추가됩니다. 모션명령어의이동방법옵션을절대위치또는
상대위치로선택할수있으며이동위치옵션에따라경유점등록방법이달라집니다.
절대위치경유점등록
•
1
WPx 경유점노드를터치하면우측에해당경유점을티칭하기위한설정창이나타납니다.
티칭을하기전에는경유점노드의텍스트는빨간색이며티칭위치가등록되면검정색으로바뀌게
됩니다.
• 티칭을위한위치
2 입력방식은값과변수가있습니다.
• 값: 교시화면으로이동하여로봇을수동모드로이동후경유점을등록할수있습니다(로봇
수동조작(이동) 참조).
• 변수: 고정브랜치Variables에사전등록한위치변수(Jpos, Tpos) 또는커스텀위치를
불러와경유점으로등록할수있습니다.
■위치변수(Jpos, Tpos) 사전등록은고정브랜치: Variable를, 커스텀위치등록은커스텀
위치를참고하시기바랍니다.
• 경유점등록이완료되면오프셋을선택적으로등록할수있습니다. 오프셋은직접값입력을통해
등록된경유점보다오프셋만큼이동위치를증가/감소하여이동시키기위한기능입니다.
168

================================================================================
13. 모션명령어
• 경유점등록이완료되면
3
버튼을눌러등록된위치로로봇을수동으로
이동시킬수있습니다. 이때설정된조그속도레벨에따라수동이동속도가달라집니다.
•
4
버튼을터치하면현재의경유점(WP1) 하단에다음경유점노드
(WP2)가추가됩니다. 경유점은WP3, WP4, ... 순차적으로추가가됩니다.
상대위치경유점등록
이동방법옵션을상대위치기준으로선택할경유모션명령어의이름뒤에Rel이붙게됩니다(예. MoveJRel,
MoveLRel).
•
1
WPx 경유점노드를터치하면우측에해당경유점을티칭하기위한설정창이나타납니다.
모션벡터등록을완료하기전에는경유점노드의텍스트는빨간색이며모션벡터티칭이등록되면
검정색으로바뀌게됩니다.
• 모션벡터를등록하기위한
2 입력방식은값과변수가있습니다.
• 값: 교시화면으로이동하여로봇을수동모드로이동후시작점과끝점을등록할수있습니다.
이때미등록(
)된시작점과끝점을등록하면플래그가
로바뀌게됩니다. 시작점과
끝점이등록되면모션벡터가자동으로계산됩니다.
* 시작점을터치하여이동화면에서현재위치를등록합니다.
* 끝점을터치하여현재위치로부터이동할만큼의상대위치로로봇을이동후등록합니다.
*
3 하단의시작점, 끝점, 모션벡터을터치하여등록된좌표위치를확인할수있습니다.
• 변수: 고정브랜치Variables에사전등록한위치변수(Jpos, Tpos) 또는커스텀위치를
169

================================================================================
13. 모션명령어
불러와경유점으로등록할수있습니다.
• 위치변수(Jpos, Tpos) 사전등록은고정브랜치: Variable를, 커스텀위치등록은커스텀
위치를참고하시기바랍니다.
• 경유점등록이완료되면
버튼을눌러등록된시작점, 끝점위치와계산된
모션벡터만큼로봇을수동으로이동시킬수있습니다. 이때설정된조그속도레벨에따라수동
이동속도가달라집니다.
•
4
버튼을터치하면현재의경유점(WP1) 하단에다음경유점노드
(WP2)가추가됩니다. 경유점은WP3, WP4, ... 순차적으로추가가됩니다.
170

================================================================================
13. 모션명령어
블렌딩(Blending)
동기모션
• 로봇이경유점1번부터4번까지직선이동후다시1번위치로돌
아옵니다. 블렌딩옵션사용을통해중간경유점들을정지없이선
회하도록합니다.
• 프로그램화면에서프로그램명령어창의MoveL을추가후경유점4개를추가후각각1, 2, 3, 4
번경유점을등록하십시오.
• 로봇이다시1번경유점으로돌아오도록하기위헤WP1을복사후WP4 뒤에붙여넣기하여WP5
를추가하십시오.
• 블랜딩반지름값설정을위해
1 Property:Blend 를터치하십시오.
•
2 블렌딩에서반지름을터치하고반지름값(예. 200)을입력하십시오.
• 반지름의단위는mm이며반지름값으로경유점간모션블랜딩이적용됩니다.
171

================================================================================
13. 모션명령어
비동기모션
• MoveL 명령어추가후
2
비동기를터치하면좌측의프로그램트리에서명령어의이름이
1
AMoveL로변환됩니다.
• 블랜딩옵션설정을위해
3 Property:Blend를터치하십시오.
•
4
필드에서사용안함, 다음목표위치로갈아타기(Override), 다음목표위치로중첩하기
172

================================================================================
13. 모션명령어
(Duplicate) 중하나를선택할수있습니다.
• 사용안함: 현재모션이종료될때까지다음모션명령어실행을대기합니다. 단, 모션명령어외
명령어들은바로실행됩니다.
다음목표위치로갈아타기(Override)
• 다음목표위치로갈아타기(Override)는상기의그림과같이AMoveL의경유점이WP1 위치로
설정된상태에서, 비동기모션설정을통해조건이만족되면(예시에서는DI.01 신호가모션중
켜지게되면) 다음모션의경유점으로모션을갈아타게됩니다.
다음목표위치로중첩하기(Duplicate)
• 다음목표위치로중첩하기(Duplicate)는상기의그림과같이AMoveL의경유점이WP1 위치로
설정된상태에서, 비동기모션설정을통해조건이만족되면(예시에서는DI.01 신호가모션중
켜지게되면) 다음모션의경유점으로의모션과기존모션을중첩한모션을생성하여이동합니다.
•
5 조건필드에서는수식과비동기모션을통해조건설정이가능합니다.
– 수식: Variable 에서선언한변수가사용자가입력한수식조건을만족할때까지다음명령어
실행을대기합니다.
– 모션상태:
모션상태가사용자가입력한특정조건을만족할때까지다음명령어실행을
대기합니다. 모션상태로는다음과같이모션진행률, 모션가속상태, 이동거리및이동시간이
173

================================================================================
13. 모션명령어
제공됩니다.
모션상태에대한상세한사항은아래와같습니다.
• 비동기모션을터치하면
5 와같이6가지로봇상태에대한설정을할수있습니다.
• 입력된구간을진행할때까지: 전체이동거리와로봇이이동한거리와의백분율
• 가속이끝날때까지: 가속구간완료후비동기모션실행
• 등속이끝날때까지등속구간완료후비동기모션실행
• 감속이끝날때까지감속구간완료후비동기모션실행
174

================================================================================
13. 모션명령어
• 입력된거리에도달할때까지: 모션시작위치로부터로봇이이동한거리(mm 단위거리입력).
모션끝점까지의거리가입력한값보다작아지면다음모션실행.
• 입력된시간에도달할때까지: 모션시작시간으로부터누적시간(초단위시간입력)
175

================================================================================
13. 모션명령어
비동기모션블렌딩궤적
비동기모션블렌딩의궤적은다음과같습니다.
• 사용안함: 현재모션이종료될때까지다음모션명령어실행을대기합니다. 단, 모션명령어외
명령어들은바로실행됩니다.
• 갈아타기: 블렌딩이시작되는시점에현재모션은감속을시작하고, 다음모션은가속을시작합니
다. 따라서로봇은현재모션의목표위치까지이동하지않고현재모션이감속하는동안다음모션
조건으로변경해다음모션의목표위치까지이동합니다.
• 중첩하기:
블렌딩이시작되는시점에현재의모션조건과목표위치를유지한채다음모션의
모션조건과목표위치를중첩합니다. 따라서로봇은현재모션의목표위치에도달할때까지현재
모션의조건과다음모션의조건을중첩한상태로이동하며, 현재모션의목표위치까지도달하면
다음모션의조건만으로다음모션의목표위치까지이동합니다.
176

================================================================================
13. 모션명령어
쉬프트설정
Property:Shift 명령어설정에서쉬프트값을설정하여로봇경유점위치에오프셋값을적용할수
있습니다.
• 모션명령어를추가하면하위노드에
1 Property:Shift가자동으로추가됩니다.
• 명령어설정창에서
2 Shift 설정패널에서오프셋값을상수로입력할수있습니다. MoveL의
경우참조좌표계와툴좌표계중선택을할수있으며, MoveJ의경우관절각도를각각입력할수
있습니다.
• 적용된값은모션명령어에포함된모든경유점WP1‑WP3 에적용됩니다.
177

================================================================================
13. 모션명령어
13.2
MoveJ
사용자가입력한관절위치까지임의경로로로봇이이동합니다.
작업영역모든구간에서사용가능하며, 다음과같은용도로주로사용됩
니다.
• 툴중심점경로가중요하지않은경우
• 특이점을회피하고싶은경우
• 작업준비위치또는작업간위치전환이필요한경우
MoveJ 모션명령어설정에따라프로그램트리창에아래와같이명령어가표시됩니다. (이동방법및
모션명령어설정에대한설명은로봇수동조작(이동)과모션명령어를참고하십시오.)
이동방법
동기/비동기
명령어표기
절대위치기준
동기
MoveJ
비동기
AMoveJ
상대위치기준
동기
MoveJRel
비동기
AMoveJRel
178

================================================================================
13. 모션명령어
MoveJ 예시
• MoveJ를사용해여러개의경유점을이동해보겠습니다.
• 로봇은현재1 번위치에정지해있으며2 번과3 번위치를경유한
후다시1 번위치로돌아옵니다.
• 모션명령어
1 MoveJ를터치하여프로그램트리에MoveJ 명령어를추가하십시오.
• 총경유점이3개이므로경유점(WP)를참고하여
2 WP1부터WP3까지추가후경유점을티칭
하십시오.
•
3 명령어설정창에서모션이름, 속도레벨, 가속도레벨, 충돌감지민감도등을설정합니다(동기,
절대위치기준).
• 로봇모션이마지막으로WP1 위치로복귀해야합니다. WP1 명령어를터치후복사를하고, WP3
179

================================================================================
13. 모션명령어
버튼을터치후붙여넣기버튼을터치하면WP1 경유점이WP3 하단에WP4로붙여넣기됩니다.
예제프로그램이완성되었습니다. 실행버튼을눌러프로그램이의도대로정상실행이되는것을
확인할수있습니다. 프로그램화면에서실행을하거나, 실행화면에서프로그램실행을통해동작을
확인할수있습니다.
180

================================================================================
13. 모션명령어
AMoveJ 예시
비동기모션을이용한MoveJ 예제에대해설명합니다.
• 로봇은현재1 번위치에정지해있으며AMoveJ 명령어를사용하
여2 번위치로이동을시작합니다.
• 모션정지없이경유점1에서경유점2로이동시작후1 초후DO.01
신호를켜고2 번위치를경유하여3 번위치로이동합니다.
•
1 프로그램트리는아래순서로명령어설정을하여작성하십시오.
– MoveJ (WP1): 경유점1을WP1로티칭합니다(동기, 절대위치기준).
– AMoveJ (WP1): 경유점2를WP1로티칭합니다(비동기, 절대위치기준,
2 를참고).
– Sleep: 지연시간을1초로설정합니다.
– SetSignal: 컨트롤박스DO.01를신호출력으로설정합니다.
– MoveJ (WP1): 경유점3을WP1로티칭합니다(동기, 절대위치기준).
181

================================================================================
13. 모션명령어
프로그램실행시실행화면에서로봇이경유점2로이동하는동안출력신호가켜지는것을확인할
수있습니다. 비동기모션명령어인AMoveJ가실행되고로봇이움직이는동안곧바로다음명령어인
Sleep과SetSignal이순차적으로실행되기때문에이와같은상황을구현할수있습니다. 이후마지막
MoveJ 명령어의경우이전AMoveJ의모션이끝난이후실행이됩니다.
이처럼비동기모션을응용하여로봇이이동하는동안디지털입출력을특정타이밍에제어하는
어플리케이션에사용할수있습니다. 아래는이예제프로그램트리의시각화를나타냅니다.
182

================================================================================
13. 모션명령어
MoveJRel 예시
• 로봇은현재1 번위치에정지해있으며2 번위치로이동중DI.01 입력신호가발생하면이동을
멈추고정지한위치에서MoveJRel 을사용하여6 번축을10 도회전합니다.
•
1 프로그램트리는아래순서로명령어설정을하여작성하십시오.
– MoveJ (WP1): 경유점1을WP1로티칭합니다(동기, 절대위치기준).
– AMoveJ (WP1): 경유점2를WP1로티칭합니다(비동기, 절대위치기준).
– Sleep: 수식조건에서dinBoard[0]==True 입력후체크버튼을터치하십시오. 2번경유
점에도달할때까지신호가켜지지않으면로봇은2번경유점에도달한후신호가켜질때
까지대기합니다.
– BreakMotion: 모션중DI.01 신호가켜지면진행중인모션을멈추기위한모션정지명령
183

================================================================================
13. 모션명령어
어입니다.
– MoveJRel (WP1): 6번축10도회전을상대위치기준으로티칭합니다(동기, 상대위치
기준,
2 를참고). 상대위치경유점등록을참조하여시작점은현재위치를, 끝점은시작점
위치에서6번관절만+10도회전후등록하십시오.
프로그램실행시외부장비를통해컨트롤박스DI.01 채널에디지털입력을인가하였을시(예. 버튼을
DI.01에연결), 신호가입력되면로봇이이동중멈춘이후6번관절이10도회전하는것을확인하실수
있습니다.
이처럼비동기모션과상대위치기준모션을응용하여로봇이이동하는동안디지털입출력을통해
로봇의움직임을제어하고, 로봇이이벤트나인터락으로모션중지이후중지된상태를기준으로사전
입력된상대위치만큼이동하도록할수있습니다. 아래는이예제프로그램트리의시각화를나타냅니다.
184

================================================================================
13. 모션명령어
AMoveJRel 예시
• 현재로봇은1 번위치에정지해있습니다.
• 2 번위치로이동중DI.01 입력신호가발생하면이동을멈추고정지한위치에서6 번축을60 도
회전합니다.
• AMoveJRel 를사용하여모션을정지없이6 번축회전을시작한지15퍼센트지난시점에DO.01
을켜고75퍼센트지난시점에DO.01 을꺼보겠습니다
•
1 프로그램트리는아래와같은순서로명령어추가및설정을통해작성합니다.
– MoveJ (WP1): 경유점1을WP1로티칭합니다(동기, 절대위치기준).
– AMoveJ (WP1): 경유점2를WP1로티칭합니다(비동기, 절대위치기준).
– Sleep: 수식조건에서dinBoard[1]==True 입력후체크버튼을터치하십시오. 2번경유
점에도달할때까지신호가켜지지않으면로봇은2번경유점도달한후신호가켜질때까지
185

================================================================================
13. 모션명령어
대기합니다.
– BreakMotion: 모션중DI.01 신호가켜지면진행중인모션을멈추기위한모션정지명령
어입니다.
– AMoveJRel (WP1): 6번축60도회전을상대위치기준으로티칭합니다(비동기, 상대위
치기준,
2 를참고).
– Sleep: 비동기모션을선택하여입력된구간을진행할때까지조건에서15%을입력합니다.
– SetSignals: 컨트롤박스의DO.01이켜지도록설정하십시오.
– Sleep: 비동기모션을선택하여입력된구간을진행할때까지조건에서75%을입력합니다.
– SetSignals: 컨트롤박스의DO.01이꺼지도록설정하십시오.
프로그램실행시외부장비를통해컨트롤박스DI.01 채널에디지털입력을인가하였을시, 신호가
입력되면로봇이이동중멈추는것을확인하실수있습니다. 또한6번관절이회전하는동안DO.01
신호가켜진후꺼지는것을확인하실수있습니다.
아래는이예제프로그램트리의시각화를나타냅니다.
186

================================================================================
13. 모션명령어
13.3
MoveL
사용자가입력한작업공간위치까지직선경로로로봇이이동합니다.
• 툴중심점경로가중요한경우
• 직선경로의작업이필요한경우
• 제한된공간에서의이동처럼로봇의경로를확실히알필요가있는
경우
MoveL 모션명령어설정에따라프로그램트리창에아래와같이명령어가표시됩니다. (이동방법및
모션명령어설정에대한설명은로봇수동조작(이동)과모션명령어를참고하십시오.)
이동방법
동기/비동기
명령어표기
절대위치기준
동기
MoveL
비동기
AMoveL
상대위치기준
동기
MoveLRel
비동기
AMoveLRel
• 6축로봇의경우MoveL 모션시특이점근처에서로봇속도가빨라질수
있습니다.
• 기본적으로특이점에가까워지면비상정지를하도록되어있습니다.
• 뉴로메카로봇의경우특이점회피기능활성화를통해특이점을극복하여
이동할수있습니다. 다만특이점회피기능사용시특이점근처에서정확한
경로를따라가지못할수있습니다.
187

================================================================================
13. 모션명령어
MoveL 예시
• MoveL 을사용해여러개의경유점을이동해보겠습니다.
• 로봇은현재1 번위치에정지해있으며2 번에서3 번위치까지
직선이동으로경유합니다.
• 이후1번위치로되돌아옵니다.
• 모션명령어
1 MoveL를터치하여프로그램트리에MoveL 명령어를추가하십시오.
• 총경유점이3개이므로경유점(WP)을참고하여
2 WP1부터WP3까지추가후각각티칭하십
시오. WP4는복사/붙여넣기를활용하여WP1과동일한경유점을티칭하십시오.
•
3
WP 명령어설정창에서티칭된위치에대하여관절위치조그와작업위치조그중선택하여
이동해볼수있습니다.
■티칭시조그모션으로직선이동을해야할경우작업위치로선택후조그를하여테스트해볼수
있습니다. 직선경로가중요하지않을경우관절위치를선택하여관절모션으로테스트할수있습
니다.
프로그램실행시로봇이경유점간직선경로로움직이는것을확인하실수있습니다.
188

================================================================================
13. 모션명령어
AMoveL 예시
• 로봇은현재1 번위치에정지해있으며AmoveL 을사용하여
• 2 번위치로직선이동중, 가속이끝나면모션정지없이DO.01 신호
를출력합니다.
•
1 프로그램트리는아래순서로명령어설정을하여작성하십시오.
– MoveL (WP1): 경유점1을WP1로티칭합니다(동기, 절대위치기준).
– AMoveL (WP1): 경유점2를WP1로티칭합니다(비동기, 절대위치기준).
– Sleep: 비동기모션의가속이끝날때까지조건으로설정합니다( 2 를참고).
– SetSignal: 컨트롤박스DO.01를신호출력으로설정합니다.
프로그램실행시로봇이경유점간직선경로로움직이는중가속모션직후에DO 신호가출력되는
것을확인하실수있습니다. 비동기모션AMoveL의모션이실행되고프로그램트리에서는곧바로다음
명령어인Sleep과SetSignals를순차적으로실행합니다. 이때에Sleep에서설정한가속이끝날때
189

================================================================================
13. 모션명령어
까지조건에따라앞서실행중인AMoveL 모션의가속이끝나는시점까지대기후SetSignals 명령어
실행으로넘어갑니다.
이를통해로봇모션중로봇의모션과관련된특정타이밍에컨트롤박스또는엔드툴포트IO 제어를
할수있습니다. 모션중그리퍼를온/오프하거나부저를울리거나하는등의다양한어플리케이션에
활용될수있습니다. 아래는예제프로그램트리의시각화트리를나타냅니다.
190

================================================================================
13. 모션명령어
MoveLRel 예시
• 로봇은현재1 번위치에정지해있으며, 2 번위치로이동중, DI.01
신호가켜지면이동을멈추고툴좌표계의Z 방향으로200mm 이
동합니다.
•
1 프로그램트리는아래순서로명령어설정을하여작성하십시오.
– MoveL (WP1): 경유점1을WP1로티칭합니다(동기, 절대위치기준).
– AMoveL (WP1): 경유점2를WP1로티칭합니다(비동기, 절대위치기준).
– Sleep:
2 수식조건에서dinBoard[1]==True 입력후체크버튼을터치하십시오. 2번
경유점에도달할때까지신호가켜지지않으면로봇은2번경유점에도달한후신호가켜질
때까지대기합니다.
– BreakMotion: 모션중DI.01 신호가켜지면진행중인모션을멈추기위한모션정지명령
어입니다.
– MoveLRel (WP1): 작업공간Z방향200mm가되도록모션벡터를티칭합니다(동기, 상대
위치기준). 상대위치경유점등록을참조하여시작점은현재위치를, 끝점은시작점위치에서
191

================================================================================
13. 모션명령어
Z축방향으로200mm만큼이동후등록하십시오.
프로그램실행시외부장비를통해DI.00 채널에디지털입력을인가하였을때로봇이2번위치로
이동중모션을멈추고Z 방향으로이동하는것을확인할수있습니다.
이를통해로봇모션중외부장비와의연동을통해로봇의모션을중지시킨후사전계획된다른
작업을수행하도록할수있습니다. 예를들어특정방향으로로봇이이동중센서신호가감지되면,
모션을멈춘후다음모션을수행하는어플리케이션에활용될수있습니다. 아래는예제프로그램트리의
시각화트리를나타냅니다.
192

================================================================================
13. 모션명령어
AMoveLRel 예시
• 로봇은현재1 번위치에정지해있으며, 2 번위치로이동중, DI.00 신호가켜지면이동을멈추고
툴좌표계의Z 방향으로200mm 이동합니다.
• 목표위치에도달하기50mm 전부터는이동속도를50% 감속하여이동합니다.
•
1 프로그램트리는아래순서로명령어설정을하여작성하십시오.
– MoveL (WP1): 경유점1을WP1로티칭합니다(동기, 절대위치기준).
– AMoveL (WP1): 경유점2를WP1로티칭합니다(비동기, 절대위치기준).
– Sleep: 수식조건에서dinBoard[0]==True 입력후체크버튼을터치하십시오. 2번경유
193

================================================================================
13. 모션명령어
점에도달할때까지신호가켜지지않으면로봇은2번경유점에도달한후신호가켜질때
까지대기합니다.
– BreakMotion: 모션중DI.00 신호가켜지면진행중인모션을멈추기위한모션정지명령
어입니다.
– AMoveLRel (WP1): Z축방향으로200mm 이동하도록모션벡터를티칭합니다(비동기,
상대위치기준).
– Sleep: 비동기모션을선택하여입력된거리에도달할때까지조건을선택하고50mm 를
입력하십시오( 2 를참고).
– SetSpeedRatio: 명령어설정화면에서50%를입력하십시오.
프로그램실행시외부장비를통해DI.00 채널에디지털입력을인가하였을때로봇이2번위치로
이동중모션을멈추고Z 방향으로이동하는중50mm 이동후속도가50%로감속되는것을확인할수
있습니다. 아래는예제프로그램트리의시각화트리를나타냅니다.
194

================================================================================
13. 모션명령어
13.4
MoveLF
힘/토크센서를장착한상태에서사용하며사용자가설정한X, Y, Z, U, V, W축방향으로일정한힘을가하
며입력한작업위치까지로봇이이동합니다. 목표위치에도달할때까지다음명령을실행하지않습니다.
• 원하는축방향에대해힘/순응제어적용이필요한경우사용
• 작업물에힘을가해밀어넣거나, 평면, 빗면, 그리고곡면을닦는직선경로의작업이필요한경우
MoveLF 모션명령어에따라프로그램트리창에아래와같이명령어가표시됩니다. 이동방법및모션
명령어설정에대한설명은기본조작(이동)과모션명령어를참고하십시오.
이동방법
동기/비동기
명령어표기
절대위치기준
동기
MoveLF
비동기
AMoveLF
상대위치기준
동기
MoveLFRel
비동기
AMoveLFRel
MoveLF의동기/비동기모션과절대위치/상대위치기준티칭은MoveL과동일합니다. 따라서본
장에서는MoveLF의힘/순응제어명령어설정에대한설명만제공합니다.
195

================================================================================
13. 모션명령어
MoveLF 예시
• MoveLF를사용해평면을지그재그로닦는여러개의경유점을이동해보겠습니다.
• 로봇은현재1번위치에정지해있으며, 1번에서2번, 2번에서3번, 3번에서4번위치까지직선이
동으로경유합니다.
• 모션명령어
1 MoveLF를터치하여프로그램트리에MoveLF 명령어를추가하십시오.
• 총경유점이3개이므로경유점(WP)을참고하여
2 WP1부터WP3까지추가후경유점을티칭
하십시오.
•
3
명령어설정창에서모션이름, 모션속도, 충돌감지, 이동방법, 동기/비동기에대한옵션은
MoveL의명령어설정과동일합니다.
196

================================================================================
13. 모션명령어
•
4 순응모드에서는각축별위치제어, 힘제어, 순응제어중하나를선택할수있습니다. 이때각
축은툴좌표계기준입니다.
• 위치제어: 체크를하지않은축은일반적인위치제어모드로움직입니다.
• 순응제어: 체크를한후값을0으로입력하면해당축은순응모드로움직입니다.
• 힘제어: 체크를한후값을입력하면해당축은입력한값으로의힘제어로움직입니다.
• 상기
4 순응모드설정은Z축으로는5N 만큼의힘제어를수행하고, U, V, W 축으로는순응제어를
수행하고, X, Y, Z축으로는위치제어를수행하도록설정한예시입니다. 일반적인샌딩작업의경우
이와같은형태로설정하여작업을구현할수있습니다.
프로그램실행시로봇이경유점간에직선경로로이동하면서힘제어로설정된축방향으로움직이
거나, 순응제어로설정된축방향으로외력을가했을때, 외력의방향대로움직이는것을확인하실수
있습니다.
197

================================================================================
13. 모션명령어
13.5
MoveC
사용자가입력한통과점과끝점을지나는원형경로로로봇이이동합니다
• 원형이동이필요한경우사용
• 디스펜싱, 디버링, 용접, 도장등의공정에서원또는호경로를구
현해야하는경우
MoveC 모션명령어설정에따라프로그램트리창에아래와같이명령어가표시됩니다. (이동방법
및모션명령어설정에대한설명은로봇수동조작(이동)과모션명령어를참고하십시오.)
이동방법
동기/비동기
명령어표기
절대위치기준
동기
MoveC
비동기
AMoveC
상대위치기준
동기
MoveCRel
비동기
AMoveCRel
• 6축로봇의경우MoveC 모션시특이점근처에서로봇속도가빨라질수
있습니다.
• 기본적으로특이점에가까워지면비상정지를하도록되어있습니다.
• 뉴로메카로봇의경우특이점회피기능활성화를통해특이점을극복하여
이동할수있습니다. 다만특이점회피기능사용시특이점근처에서정확한
경로를따라가지못할수있습니다.
198

================================================================================
13. 모션명령어
MoveC 명령어설정
원또는호의경로를만들기위해서는시작점, 통과점, 끝점이필요합니다. 시작점은MoveC 명령어가
시작되기직전의위치로결정됩니다.
MoveC 명령어추가시아래의하위노드가자동생성됩니다.
• Property:Blend: 비동기모션설정시에만갈아타기와중첩하기기능을사용할수있습니다.
• Property:Shift: 절대위치기준일때쉬프트값을통해위치오프셋을설정할수있습니다.
• Property:Path: 회전종류와회전옵션을선택할수있습니다.
• Property:ViaPoint: 원호의통과점을교시할수있습니다.
• Property:EndPoint: 원호의끝점을교시할수있습니다.
본장에서는각각의하위노드를설정하기위해필요한사항들에대해설명합니다.
회전옵션
회전옵션은아래두가지옵션중하나를선택할수있습니다.
• 교시위치기준: 사용자가티칭한끝점(EndPoint)에서원형이동을종료합니다.
• 회전각도기준:
시작위치에서부터설정한회전각도만큼원형이동을수행합니다. 회전종류가
Smooth인경우에는회전각도설정이불가합니다.
199

================================================================================
13. 모션명령어
회전종류
회전종류는아래세가지중하나를선택할수있습니다.
Constant: 시작점의회전자세를유지하며원형이동
Radial: 원형경로의중심점을기준으로자세를회전하며원형이동
Smooth: 시작점의회전자세에서끝점의회전자세로회전하며원형이동
200

================================================================================
13. 모션명령어
ViaPoint, EndPoint 교시방법
MoveC 명령어가원호모션을만드는원리는시작점(StartPoint), 통과점(ViaPoint), 끝점(EndPoint)
세점을기준으로원호를생성합니다. 이때에MoveC 명령어가시작되는지점이StartPoint가됩니다.
즉, MoveC 이전에등록된다른모션명령어의마지막경유점이StartPoint가됩니다. ViaPoint와
EndPoint는MoveC 명령어하위노드에직접등록해야하며, 등록방법은절대위치기준일때와상대위
치기준일때차이가있습니다.
• 절대위치기준: 아래그림과같이ViaPoint, EndPoint 각각을직접절대위치기준으로등록합
니다.
• 상대위치기준: 아래그림과같이StartPoint를기준으로ViaPoint로의모션벡터와EndPoint
로의모션벡터로교시할수있습니다. 이를통해시작위치가바뀌더라도모션벡터는동일하기때
문에다른시작위치에서동일한원모션을만들수있습니다. 원모션구현시원모션의시작위치가
매번다를경우유용하게사용할수있습니다.
201

================================================================================
13. 모션명령어
MoveC 예시: Constant 회전옵션예시
(a) 로봇교시시의툴좌표계자세, (b) 로봇실행시의툴좌표계자세
• 로봇은현재1번위치에정지해있으며, 2번과3번을경유하여다시1번위치로360도회전이동
합니다.
• 이때로봇의자세는1번위치의회전자세로고정하여이동합니다.
•
2
프로그램트리에서MoveJ 명령어를추가하여원또는호경로시작점을마지막경유점으로
등록하십시오.
• 모션명령어
1 MoveC를터치하여프로그램트리에MoveC 명령어를추가하십시오.
– MoveC 명령어설정창에서는동기, 절대위치기준으로설정하십시오.
–
3 Property:Path: 회전종류는Constant, 회전옵션은회전각도기준으로선택후360
202

================================================================================
13. 모션명령어
을입력하십시오. 이를통해회전이동시시작점과, 통과점그리고끝점을지나, 다시시작점
까지360도회전을하며로봇TCP는시작점의회전자세를유지하게됩니다.
– ViaPoint, EndPoint를절대위치기준으로등록하십시오.
프로그램등록이완료되었으며프로그램실행시로봇의말단이원호를그리며이동하면서TCP
회전자세는일정하게유지하는것을확인할수있습니다.
203

================================================================================
13. 모션명령어
AMoveC 예시: Radial 회전옵션예시
이예제에서는비동기MoveC인AMoveC 사용법과Radial 회전옵션에대한예시를제공합니다.
(a) 로봇교시시의툴좌표계자세, (b) 로봇실행시의툴좌표계자세
• 로봇은현재1 번위치에정지해있으며, 2 번위치를경유하여3 번위치까지원호이동을합니다
(회전옵션: 교시위치기준).
• 이때, 회전자세는원호의중심을향하도록움직입니다(회전종류: Radial).
• 원호이동시작한지2 초후에DO.01 신호를출력합니다(비동기모션).
•
1 프로그램트리는아래순서로작성하십시오.
– MoveJ (WP1): 원모션의시작점을경유점으로등록하십시오.
– AMoveC: 이동방법절대위치기준, 비동기으로설정하십시오.
2
Path 설정에서회전
종류를Radial로선택하고, 회전옵션을교시위치기준으로선택하십시오.
204

================================================================================
13. 모션명령어
– Sleep: 시간을2초로설정하십시오.
– SetSignals: 컨트롤박스DO.01 채널출력이켜지도록설정하십시오.
프로그램등록이완료되었으며프로그램실행시로봇의말단이원호를그리며이동하면서TCP 회전
자세는원형경로의중심점을바라보는자세를유지합니다. 이때비동기모션에의해원호경로이동시작
2초후DO.01 출력이되는것을확인할수있습니다.
205

================================================================================
13. 모션명령어
MoveCRel 예시: 동일한원을여러위치에서그리기
(a) 로봇교시시의툴좌표계자세, (b) 로봇실행시의툴좌표계자세
• 로봇은현재1 번위치에정지해있으며, 2 번과3 번위치를경유하여다시1 번위치까지360도
원형이동을합니다. 그리고4 번위치에서동일한원형이동을반복합니다.
• 이때회전자세는시작점의자세를유지하며이동합니다.
•
1 프로그램트리는아래순서로작성하십시오.
– MoveJ (WP1): 첫번째원모션의시작점(1)을경유점으로등록하십시오.
– MoveCRel: 이동방법상대위치기준, 동기으로설정하십시오.
2 Path 설정에서회전종
류를Constant로선택하고, 회전옵션을회전각도기준으로선택후360도를입력하십시오.
ViaPoint, EndPoint 교시방법을참고하여ViaPoint와EndPoint를상대위치기준으로
티칭하여등록하십시오.
206

================================================================================
13. 모션명령어
– MoveJ (WP1): 두번째원모션의시작점(4)를경유점으로등록하십시오.
– MoveCRel: 위에서등록한MoveCRel을복사하여붙여넣기하십시오.
프로그램등록이완료되었습니다. 상대위치로원형모션을등록하여시작점위치가바뀌었을때에도
동일한설정의원모션을생성할수있음을확인할수있습니다. 이를통해동일한원모션을다양한
시작점에서수행해야하는응용분야에서유용하게활용할수있습니다.
207

================================================================================
13. 모션명령어
AMoveCRel 예시: 회전종류Smooth 조건예시
(a) 로봇교시시의툴좌표계자세, (b) 로봇실행시의툴좌표계자세
• 로봇은현재1 번위치에정지해있으며, 2 번위치로직선이동을합니다.
• 직선이동중DI.01 신호가켜지면이동을멈추고그위치를시작점으로원호이동을합니다.
• 이때, 회전자세는시작점의자세에서끝점자세로이동하며회전합니다.
• 원호이동을시작한지1 초후에DO.01 신호를켭니다.
•
1 프로그램트리는아래순서로작성하십시오.
– MoveJ (WP1): 직선션의시작점(1)을경유점으로등록하십시오.
– AMoveL: 이동방법절대위치기준, 비동기로설정하고위치(2)를경유점으로등록하십시
오.
208

================================================================================
13. 모션명령어
– Sleep: 디지털입력0번채널이True일때까지대기조건으로설정하십시오(dinBoard[0]==True).
– BreakMotion: 상기조건만족시AMoveL 모션을정지시킵니다.
– AMoveCRel:
이동방법상대위치기준, 비동기로설정하십시오.
2
Path 설정에서
회전종류를Smooth로선택하고, 회전옵션을교시위치기준(긴각회전)을선택하십시오.
ViaPoint, EndPoint 교시방법을참고하여ViaPoint와EndPoint를상대위치기준으로
티칭하여등록하십시오.
– Sleep: 1초대기조건을입력하십시오.
– SetSignals: 컨트롤박스DO.01 신호가켜지도록설정하십시오.
프로그램등록이완료되었습니다. 프로그램실행시로봇은위치(2)로직선이동을하다가DI.01
신호가입력되었을때모션을멈춘후원모션을시작합니다. 원형모션수행중로봇의TCP 자세는시작점
교시자세에서끝점교시자세로(긴각도) 회전하게됩니다. 또한원형이동을시작하고1초후DO.01
신호가출력되는것을확인할수있습니다.
209

================================================================================
13. 모션명령어
13.6
MoveR
MoveR은녹화된모션을실행하는모션입니다(Record&Replay). 모션녹화는설정화면에서사전에
녹화후저장해야합니다. 텔레오퍼레이션을참고하여MoveR에사용될모션을미리설정하십시오.
•
1 MoveR을프로그램트리에추가하십시오.
•
2 프로그램트리구성시MoveR 명령어이전에MoveJ를추가하여MoveR이시작되는위치로
로봇을이동시키도록구성하십시오.
•
3
녹화모션리스트에는텔레오퍼레이션에서사전녹화된모션리스트가나타납니다. 이중
사용할모션을선택하십시오.
•
4 스케일에서모션실행속도를조절할수있습니다. 녹화된모션속도를100% 기준으로합니다.
210

================================================================================
13. 모션명령어
13.7
MoveGcode
MoveGcode 명령어는GCODE 파일을읽고이를해석하여로봇이동경로를생성하고, 해당경로를따라
이동합니다. GCODE (Geometric Code)는CNC 기계및3D 프린터에서사용하는프로그래밍언어로,
모션제어, 위치설정, 속도제어등을포함한다양한명령을수행합니다. 로봇제어에서는이러한GCODE
명령어를해석하여로봇의이동경로를지정하고, 해당경로를따라정확하고정밀하게움직일수있습
니다.
주소
파라미터
기능
용도
G
00
위치결정
공구의급속이송
G
01
직선보간
절삭이송에의한직선가공
G
02
원호보간CW
시계방향의원호가공
G
03
원호보간CCW
반시계방향의원호가공
G
04
드웰
절삭이송을지령시간동안정지
G
20
inch 단위
단위길이를인치로설정
G
21
mm 단위
단위길이를밀리미터로설정
G
28
자동원점복귀
기계원점으로복귀
G
90
절대지령
절대위치좌표계선택
G
91
증분지령
상대위치좌표계선택
G
92
원점설정
현재위치를절대좌표계원점으로설정
F
속도
속도설정
이송속도설정(inch/min 또는mm/min)
R
반지름
반지름설정
원호보간반지름설정
X
X좌표
목표점X좌표설정
모션타겟위치의X 좌표설정
Y
Y좌표
목표점Y좌표설정
모션타겟위치의Y 좌표설정
Z
Z좌표
목표점Z좌표설정
모션타겟위치의Z 좌표설정
I
X좌표
원심X좌표설정
원호보간모션의X 좌표설정
J
Y좌표
원심Y좌표설정
원호보간모션의Y 좌표설정
K
Z좌표
원심Z좌표설정
원호보간모션의Z 좌표설정
211

================================================================================
13. 모션명령어
MoveGcode 예시
MoveGcode 명령어를사용하기위해서는외부에서작성된Gcode 파일을업로드해야합니다. 로봇저
장소에해당파일이업로드되어야Conty에서이를불러올수있으며, Conty 저장소에업로드된파일을
로봇저장소로복사할수있습니다. 각저장소에대한설명은다음과같습니다.
• Conty 저장소: Conty 앱이실행되는태블릿기기이며Gcode 파일을저장하는경로는아래와
같습니다.
– Android ▶data ▶com.neuromeka.com.conty3 ▶files ▶gcode
– 상기Conty 저장소에파일을업로드한후Conty 앱을통해서로봇저장소로복사할수있습
니다.
• 로봇저장소:
로봇컨트롤박스의로봇제어기PC이며Gcode 파일을저장하는경로는아래와
같습니다.
– /release/IndyDeployment/Gcode
■gcode 파일의확장자는“.gcode”이며해당확장자파일만인식할수있습니다.
•
1 MoveGcode 명령어를추가하십시오.
•
2 프로그램트리구성시MoveGcode 명령어이전에MoveJ를추가하여MoveGcode 명령이
시작되는위치로로봇을이동시키도록구성하십시오.
•
3 명령어설정창에서아래사항들을설정하십시오.
– 모션이름: 추가한모션명령어이름을작성하십시오.
– G‑code 파일이름: 터치하면로봇저장소에저장되어있는gcode 파일리스트가나타납니
212

================================================================================
13. 모션명령어
다. 로봇저장소에저장되어있어야불러올수있습니다.
– G‑code 파일업로드: Conty 저장소에저장되어있는gcode 파일전체를로봇저장소로
복사합니다.
– 모션속도: 속도레벨, 가속도레벨을설정합니다.
– 충돌감지: 충돌감지민감도를설정합니다.
– GCODE 모션모드에서정확하게혹은부드럽게중에서원하는선택지를선택합니다.
* 정확하게모드에서는GCODE의모션경로상의모든목표지점을정확히도착하도록
합니다.
* 부드럽게모드에서는블렌딩을적용해끊어지지않는부드러운모션을수행합니다.
213

================================================================================
13. 모션명령어
13.8
GoHome
사전에사용자가설정한홈위치로임의의곡선경로를그리며이동합니다. 홈위치는설청화면의홈
위치에서사전설정해야합니다.
• 모션경로는MoveJ 와동일하지만목표위치를별도로입력하지
않고사전에설정해서사용합니다.
• 작업준비위치(공유위치), 프로그램중단또는알람발생시의복귀
위치로주로사용합니다.
•
1 GoHome을터치하여
2 프로그램트리에추가할수있습니다.
•
3
모션속도에서속도와가속도를%로설정할수있으며현재등록된홈위치의관절각도를
아래경유점에서확인할수있습니다.
• 프로그래밍및티칭중사전설정된홈위치로이동을해보기위해
4 누르는동안입력위치로이동
버튼을눌러직접로봇을홈위치로이동해볼수있습니다.
214

================================================================================
13. 모션명령어
13.9
BreakMotion
BreakMotion 명령어가실행되면진행중인모션을정지하고다음명령어를실행합니다. 별도의설정이
필요없습니다.
•
1 BreakMotion을터치하여
2 프로그램트리에추가할수있습니다.
•
2 프로그램트리의예시는비동기모션AMoveJ가실행되는중1초Sleep 이후모션이중단하
도록구성하였습니다. 이때에Sleep의조건에따라모션이정지되도록응용할수있습니다.
215

================================================================================
13. 모션명령어
13.10
Clone
Clone은프로그램내에정의된다른모션명령을실행하는모션명령입니다. Move 모션명령어내에
경유점이여러개있을경우이를모두실행합니다. Clone을사용하면동일한Move 명령어를여러번
쉽게복제하여트리를구성할수있으며, 원본Move 명령어를수정하면해당Clone 명령어들도자동으
로반영됩니다. 이를통해동일한Move 명령어가반복적으로등장하는상황에서프로그램트리작성을
용이하게하고유지보수의편의성도높힐수있습니다.
•
1 Clone을터치하여
2 프로그램트리에추가할수있습니다.
•
2 프로그램트리의예시는앞서사전작성된MoveJ 명령어들(mj0, mj1, mj2)을그대로복사
하여프로그램트리하단에서똑같이실행할수있도록구성되어있습니다.
•
3 모션이름의콤보박스를터치하면현재프로그램내에추가된모션이름리스트가팝업창으로
나타납니다. 팝업창에서복제하고자하는모션이름을선택하십시오.
216

================================================================================
13. 모션명령어
• 선택한모션이름은
4 원본모션명령리스트에나타납니다.
– 원본모션명령과동일한이름을가지는모션이름이없을경우
4 와같이나타납니다.
– 원본모션명령과동일한이름을가지는모션이름이여러개일경우
5
경고메시지가출력
되며
6 원본모션명령리스트에전체동일이름의모션리스트가나타납니다.
– 동일이름모션이2개이상일경우등록이불가능합니다. 이때에
6 리스트에서중복이름
명령을선택후
7
이동버튼을누르게되면프로그램트리상에서해당원본모션이있는
줄로이동하여중복이름명령어를수정할수있습니다.
217

================================================================================
13. 모션명령어
13.11
SetFrame
SetFrame 명령어의하위노드에모션명령어를넣을수있습니다. SetFrame의하위노드모션명령
어들은SetFrame 명령어에서설정된대로참조좌표계또는툴좌표계가변경되어모션을수행합니다.
SetFrame 명령어설정에서는툴좌표계를변경하여툴중심점(Tool Center Point)을특정구간에서
변경되도록할수있습니다. 또한참조좌표계를변경하여작업공간을변경할수있습니다.
사용자가사전에설정한툴좌표계와참조좌표계변수를불러와서사용할수도있으며, 직접좌표계
값을입력할수도있습니다. 또한비전사용시에는비전감지를통해인식된값을변경할참조좌표계
값으로사용할수있습니다.
툴좌표계
툴좌표계변수사용시에는설정화면에서툴좌표계(TCP, Tool Center Point)를통해툴좌표계를사전
등록해야합니다.
• 프로그램명령어창에서
1 SetFrame 명령어를터치하여프로그램트리로추가하십시오.
•
2 프로그램트리에서SetFrame 하위노드에모션명령어를추가할수있습니다. 하위노드의
모션명령어는SetFrame 설정에적용된좌표계로변환됩니다.
•
3 툴좌표계탭을선택하십시오.
– 입력방식을변수로선택시콤보박스를터치하면사전등록된툴좌표계목록이팝업창으로
나타납니다. 사용하고자하는변수를선택하여등록하십시오.
– 입력방식을값으로선택시직접툴좌표계를입력할수있습니다.
218

================================================================================
13. 모션명령어
•
4 로봇시뮬레이션창에선택된툴좌표계가시각적으로나타납니다.
참조좌표계
참조좌표계변수사용시에는설정화면에서참조좌표계를통해참조좌표계를사전등록해야합니다.
•
5 참조좌표계탭을선택하십시오.
– 입력방식을변수로선택시콤보박스를터치하면사전등록된참조좌표계목록이팝업창으로
나타납니다. 사용하고자하는변수를선택하여등록하십시오.
– 입력방식을값으로선택시직접참조좌표계를입력할수있습니다.
•
6 로봇시뮬레이션창에선택된참조좌표계가시각적으로나타납니다.
219

================================================================================
13. 모션명령어
참조좌표계: 비전인식
비전사용시비전으로인식한값을참조좌표계로활용할수있습니다. 이를사용하기위해서는설정
화면에서비전이사전등록되어있어야합니다. 또한프로그램트리의고정브랜치: Program에서비전
켬을선택하고등록된비전을불러와야합니다.
참조좌표계갱신을매실행마다비전감지를통해사용하고자할경우응용명령어의Detect/
Retrieve 명령어와함께사용해야합니다.
• Program 명령어설정에서비전켬을선택하면SetFrame 명령어설정창의참조좌표계탭에
7
비전항목이나타납니다.
– 감지이름선택: 현재프로그램트리내Detect/Retrieve 명령어중에서인식결과를사용할
명령어의이름입니다.
– 가져오기: 인디아이를사용하는경우Retrieve (가져오기)를실행하는기능입니다. 인디
아이의그래프내Select 모듈의설정에따라달라집니다. Select의On Retrieve 값이ON
일때만사용이가능하며, 감지를한번이라도실행해야합니다. 감지를한번실행한이후가져
오기를누르면감지에서인식된결과들에서1개씩순차적으로선택하여Select 모듈이후의
그래프를실행하며, 최종인식결과를Conty 상에표시합니다. Select의On Retrieve 값이
OFF 인경우, 사용이불가능합니다(Conty에서는물체감지안됨이라는메시지가나오며,
인디아이앱에서는On Retrieve가켜져있어야한다는메세지가나옵니다.).
– 감지: 인디아이를사용하는경우Detect (감지)를실행하는기능입니다. 인디아이의그래
프내Select 모듈의설정에따라달라집니다. Select의On Retrieve 값이OFF 인경우,
220

================================================================================
13. 모션명령어
그래프를끝까지실행시킨결과를반환하며, Conty상에인식된물체의좌표가표시됩니다.
Select의On Retrieve가ON 인경우, Select 전까지만그래프를실행시키며, 이후가져
오기를눌러야원하는위치값이나오게됩니다.
221

================================================================================
13. 모션명령어
교시점보정기능
앞서의참조좌표계: 비전인식기능을활용하여사전티칭된로봇교시점들이로봇의설치위치가바뀌
었을때에도바뀐위치에맞게비전인식을기반으로보정하는기능을구현할수있습니다.
이를통해로봇이고정된위치에서다양한티칭위치를등록후이후로봇의위치가변경되었을때에
재티칭을하지않고비전인식을통해등록된티칭포인트가옮겨진로봇의위치에맞게보정이됩니다.
인디아이인식그래프작성
• 로봇을캘리브레이션시트또는마커를인식할위치로이동시킵니다.
• 인디아이앱에서위와같은구조의그래프를작성합니다. DetectMarker의TYPE 값은캘리브레
이션시트일경우“sheet”, 마커일경우“marker”를선택합니다.
Conty 프로그램작성
프로그램트리는아래와같이작성하십시오.
• Program: 비전켬을선택후연결된인디아이를선택하십시오.
• MoveJ (WP1): 마커를인식할위치를로봇경유점으로설정하십시오.
222

================================================================================
13. 모션명령어
• Detect: 인디아이선택후타겟객체는marker 또는sheet를선택하십시오.
• SetFrame: 참조좌표계에서비전을선택후상기에서설정한Detect의이름을선택후감지를
터치하십시오.
– MoveL: SetFrame 하위명령어로추가후교시점을등록하십시오. 이모션들이교시점으로
보정되는티칭포인트가됩니다.
223

================================================================================
13. 모션명령어
13.12
SetSpeedRatio
명령어이후의모든모션명령어에대해설정한감속율을반영하여속도를감속합니다
•
1 SetSpeedRatio을터치하여
2 프로그램트리에추가할수있습니다.
•
2
프로그램트리의예시는모션명령어인MoveJ 명령어앞뒤로SetSpeedRatio를넣고
MoveJ 실행전
3 감속율을50%로설정하고, 모션이후다시감속율을100%로바꾸도록하였
습니다. 따라서이후에추가되는모션명령어는100%의속도로움직이게됩니다.
224

================================================================================
13. 모션명령어
13.13
SetToolMass
SetToolMass 명령어는로봇에적용된툴제원을설정한값으로업데이트합니다. SetToolMass를사
용하여변경된툴제원은프로그램이종료되면툴제원에서설정한기본값으로돌아갑니다.
•
1 SetToolMass을터치하여
2 프로그램트리에추가할수있습니다.
•
2 프로그램트리의예시는GoHome 명령어로로봇이홈위치이동후SetToolMass 명령어를
통해툴제원설정을바꾼후MoveJ 명령어로다음모션실행하도록하였습니다. 실행시로봇이
홈위치로움직일때와MoveJ에의한모션을할때의적용된툴제원이달리적용되게됩니다.
•
3 SetToolMass 명령어설정창에서는질량, 질량중심, 관성모멘트를직접입력할수있으며,
기존값유지옵션을통해설정화면의툴제원에서설정한기존값으로다시변경할수있습니다.
225

================================================================================
14. 흐름제어명령어
14
흐름제어명령어
프로그램흐름제어명령어들은사용자가설정한조건에따라프로그램을반복실행하거나또는그
결과에따라명령어실행을대기하거나다른브랜치로분기하는데사용합니다.
14.1
조건
조건을설정하는If, Sleep, Event 명령어사용시다양한형태의조건문을사용할수있습니다. 조건으로
설정가능한항목은다음과같습니다.
• 수식: 변수와수식을이용하여조건문을작성할수있습니다.
• 디지털신호: 컨트롤박스의디지털입출력신호를통해조건문을작성할수있습니다.
• 상수: 필요시True와False 조건을직접지정할수있습니다.
• 엔드툴포트: 엔드툴포트의입출력신호를통해조건문을작성할수있습니다.
수식(Expression)
조건을설정하는커맨드사용시수식을통해조건을입력할수있습니다. 수식에서불러올수있는데이
터는변수, 함수, IO 세가지가있습니다.
•
1 수식을선택후우측
2 에디트창을터치하면하단에키보드팝업이나타납니다.
• 키보드팝업에서
3
변수/함수/IO 세가지중하나의탭을선택하면해당리스트가나타나며,
리스트중하나를선택하여입력할수있습니다.
226

================================================================================
14. 흐름제어명령어
• 수식입력을위해
4 키보드패널을활용하십시오.
변수
변수탭에서는고정브랜치: Variable에서추가한변수리스트가나타납니다. 또한인디아이비전사용
시비전물체등록을할경우추가적인비전변수가아래와같이나타납니다.
인디아이변수명
설명
[name]_detected
(Bool) 물체가감지되었는지의여부
[name]_passed
(Bool) 감지된물체가인디아이의검사모듈을정상적으로통과했는지의여부
[name]_objectFrame
(Tpos) 인식한물체의위치
[name]_pickFrame
(Tpos) 인식한물체의파지위치
[name]_detectedFrame
(Tpos) 인식했을때의로봇엔드툴위치
[name]_detectedType
(Int) 인식된물체의클래스인덱스값
• 비전변수명은Detect 명령어에서설정한감지이름값으로설정됩니다.
– 예시: Detect 명령어감지이름이vision인경우
– 변수리스트: vision_detected, vision_passed
함수
•
5 함수선택시기본적으로제공되는함수기능을사용할수있습니다.
• 리스트에서특정함수선택시
6 함수설명이나타납니다.
•
7 체크버튼터치시선택한함수가수식에추가됩니다.
227

================================================================================
14. 흐름제어명령어
일반함수리스트는다음과같습니다.
함수명
설명
함수명
설명
sin(<x>)
float <x> degree의sine 값반환
cos(<x>)
float <x> degree의cosine 값반환
tan(<x>)
float <x> degree의tangent 값
반환
asin(<x>)
float <x>의arc sine 값을degree
로반환
acos(<x>)
float <x>의arc cosine 값을
degree로반환
atan(<x>)
float <x>의arc tangent 값을
degree로반환
atan2(<y>,<x>)
float <y>/<x>의arc tangent 값을
degree로반환
r2d(<x>)
float <x> radian 값을degree로
반환
d2r(<x>)
float <x> degree 값을radian으로
반환
pi
원주율값반환
abs(<x>)
float <x>의절대값반환
sqrt(<x>)
float <x>의제곱근값반환
ceil(<x>)
float <x> 보다큰정수중가장작은
정수반환
floor(<x>)
float <x> 보다큰정수중가장작은
정수반환
round(<x>)
float <x>를반올림한수와가장
가까운정수반환
log(<x>,<b>)
float <x>의로그를밑수<b>의
값으로반환
log10(<x>)
float <x>의로그를밑수10의
값으로반환
pow(<x>,<y>)
float <x>의<y> 제곱반환
random()
0 이상1미만난수를반환
mod(<x>,<y>)
<x>를<y>로나눈나머지값반환
로봇의좌표계계산과관련된함수리스트는다음과같습니다
함수명
설명
함수명
설명
transx(<x>)
x축으로float <d> 만큼이동시키는
Tpos 반환
transy(<d>)
y축으로float <d> 만큼이동시키는
Tpos 반환
transz(<x>)
z축으로float <d> 만큼이동시키는
Tpos 반환
rotx(<a>)
x축기준float <a> degree 만큼
회전시키는회전행렬반환
roty(<a>)
y축기준float <a> degree 만큼
회전시키는회전행렬반환
rotz(<a>)
z축기준float <a> degree 만큼
회전시키는회전행렬반환
htrans(<p1>,<p2>)
Tpos <p1>, <p2>의Homogeneous Transformation 행렬곱
로봇의기구학과관련된함수리스트는다음과같습니다
함수명
설명
inverse_pose(<p1>)
Tpos <p1>의Inverse에해당하는Pose 값반환
get_current_pose()
로봇의현재Pose 반환
get_current_joint()
로봇의현재관절각도반환
get_inverse_kin(<p1>)
Tpos <p1>에도달하기위한관절자세(Jpos) 반환
get_forward_kin(<p1>)
Jpos <p1>에서의엔드툴자세(Tpos) 반환
228

================================================================================
14. 흐름제어명령어
IO
8 IO 선택시컨트롤박스, 엔드툴포트의디지털/아날로그입/출력및힘/토크센서의값을변수로
접근할수있습니다. 아래는변수화된IO의리스트와
9 수식작성예시를나타냅니다.
변수
설명
사용예시
dinBoard
컨트롤박스디지털입력
dinBoard[0]==True, DI 0번채널On
doutBoard
컨트롤박스디지털출력
doutBoard[1]==False, DO 1번채널Off
ainBoard
컨트롤박스아날로그입력
ainBoard[1]<=3, AI 1번채널3V 이하
aoutBoard
컨트롤박스아날로그출력
aoutBoard[0]>=5, AO 0번채널5V 이상
dinEndtoolA
엔드툴포트A 디지털입력
dinEndtoolA[0]==True
dinEndtoolB
엔드툴포트B 디지털입력
dinEndtoolB[1]==False
doutEndtoolA
엔드툴포트A 디지털출력
doutEndtoolA[0]==False
doutEndtoolB
엔드툴포트B 디지털출력
doutEndtoolB[1]==False
ainEndtoolA
엔드툴포트A 아날로그입력
ainEndtoolA[0]>1
aoutEndtoolB
엔드툴포트B 아날로그출력
aoutEndtoolB[0]>1
ftSensor
힘/토크센서출력
ftSensor[1]>0, [Fx,Fy,Fz,Tx,Ty,Tz]
229

================================================================================
14. 흐름제어명령어
디지털신호
•
1 디지털신호조건선택시컨트롤박스디지털입출력을이용한조건을만들수있습니다.
•
2 패널에서DI와DO를중복으로선택할수있으며, 터치를통해각채널을On 또는Off로선택할
수있습니다. 다중선택된DO, DI 채널의On/Off 값들에대해서AND 또는OR 조건으로선택할
수있습니다.
• 상기예시의경우DI02==True && DO07==True 조건입니다.
230

================================================================================
14. 흐름제어명령어
상수
•
1
상수조건선택시단순하게true 또는false를선택하여항상만족하거나, 항상불만족하는
조건을선택할수있습니다.
엔드툴포트
•
1 엔드툴포트조건선택시엔드툴포트디지털입출력을이용한조건을만들수있습니다.
•
2 패널에서엔드툴포트의포트번호와채널에따라NPN 또는PNP를선택하고상태를켬(High),
끔(Low)로선택할수있습니다. 다중선택시선택된조건은모두AND 조건으로구현됩니다.
231

================================================================================
14. 흐름제어명령어
14.2
If / ElseIf / Else
사용자가설정한조건을만족하면자식트리의명령어를실행하고그렇지않으면다음명령을실행합니다.
•
1 If를터치하여
3 프로그램트리에추가할수있습니다.
•
2 +Elseif 또는+Else를터치하여Elseif 명령어또는Else 명령어를프로그램트리에추가할
수있습니다.
•
3 프로그램트리에서If, Elseif, Else를추가한상태를나타냅니다. 각조건노드하단의Empty
에다양한명령어를추가하여논리를구현할수있습니다.
232

================================================================================
14. 흐름제어명령어
14.3
Sleep
사용자가설정한조건을만족할때까지다음명령어실행을대기합니다.
•
1 Sleep을터치하여
2 프로그램트리에추가할수있습니다.
•
3 시간조건을통해몇초동안대기할지설정할수있습니다.
• 나머지조건들은조건을참고하여다양하게구현할수있습니다.
• 비동기모션조건은비동기모션를참고하십시오.
– 입력된구간을진행할때까지(% 입력)
– 가속이끝날때까지
– 등속이끝날때까지
– 감속이끝날때까지
– 입력된거리에도달할때까지(mm 입력)
– 입력된시간에도달할때까지(초입력)
233

================================================================================
14. 흐름제어명령어
14.4
Loop
사용자가설정한조건에따라자식트리의명령어를반복실행합니다.
•
1 Loop 명령어를추가하면
2 조건을항상반복또는반복횟수를직접입력할수있습니다.
234

================================================================================
14. 흐름제어명령어
14.5
Break
Loop 명령어로인한반복실행을정지시키고다음명령어를실행합니다. 주로If 와같은조건문내에서
함께사용됩니다.
•
1 Break 명령어추가시별도의설정은필요없습니다.
•
2 프로그램트리의예시는항상반복되는Loop문에서디지털입력3번채널이On 상태가되면
Loop를탈출하게됩니다.
235

================================================================================
14. 흐름제어명령어
14.6
QuitProgram
프로그램실행을중지합니다.
•
1 QuitProgram 명령어추가시별도의설정은필요없습니다.
•
2 프로그램트리의예시는항상반복되는Loop문에서디지털입력3번채널이On 상태가되면
프로그램이종료됩니다.
236

================================================================================
14. 흐름제어명령어
14.7
Group
일련의명령어들을하위트리로그룹화하여정리할수있습니다. 그룹별이름을지정할수있어복잡한
공정트리구축시편의성을향상시킵니다.
•
1 Group 명령어추가시
2 이름을입력할수있습니다. 이를주석으로활용하도록하십시오.
•
3
프로그램트리에서Group 명령어는하위노드를가질수있어특정공정을하나의Group
으로묶을수있습니다. 예를들어물체를픽앤플레이스하는전체과정을하나의그룹으로묶은후
관리할수있습니다.
237

================================================================================
14. 흐름제어명령어
14.8
Annotation
프로그램트리에주석을삽입합니다. 원하는위치에간단한설명을작성할수있습니다. 프로그램실행
시주석이인스턴트메시지로나타납니다.
•
1 Annotation 명령어추가시
2 주석을입력할수있습니다.
•
3 프로그램트리에서Annotation이실행되면인스턴트메시지로주석이나타납니다.
238

================================================================================
14. 흐름제어명령어
14.9
Continue
Loop 안에서Continue 가실행되면이후명령어의실행을건너뛰고Loop 처음으로돌아가다시실행
됩니다. 주로If문과함께사용됩니다.
•
1 Continue 명령어추가시별도의설정은필요없습니다.
•
2 프로그램트리의예시는항상반복되는Loop문에서디지털입력3번채널이On 상태가되면
원래수행하던MoveJ (m1), MoveJ (m2) 모션을실행하지않고스킵합니다.
239

================================================================================
14. 흐름제어명령어
14.10
Alarm
사용자가입력한메시지가팝업메시지로출력되며프로그램은일시정지됩니다. 일시정지된프로그램을
재개하기위해서는실행버튼을다시터치해주시기바랍니다.
•
1 Alarm 명령어추가시
2 경고메시지를입력할수있습니다.
•
3 프로그램트리에서Alarm이실행되면알람팝업창이나타나며프로그램이일시정지됩니다.
240

================================================================================
14. 흐름제어명령어
14.11
Event
공정프로그램실행중사용자가설정한조건을만족하면이벤트프로그램이실행됩니다.
•
1 Event 명령어를추가하면
2 이벤트프로그램트리가생성됩니다.
•
3
명령어설정창에서는검사주기를초단위로입력할수있으며, 조건을입력할수있습니다.
매검사주기마다조건을검사하며조건만족시이벤트루프하위노드가실행됩니다.
• Event 명령어하위노드의Empty에명령어들을추가하면Event 명령어의설정한조건이만족될
때하위노드명령어들이실행됩니다. Event 하위노드에추가가능한명령어리스트는다음과
같습니다.
– Annotation
– Alarm
– BreakMotion
– SetSpeedRatio
– SetSignals
– SetTool
– SetVar
– Sleep (시간조건만허용)
– QuitProgram
•
4 공정을터치하여기존공정프로그램트리로이동할수있으며, 다시이벤트를터치하여다시
이벤트프로그램트리로이동할수있습니다.
241

================================================================================
14. 흐름제어명령어
14.12
Timer
Timer 가설정된구간의실행시간을측정합니다. Timer 의모니터링변수로는정수형(Int), 실수형
(Float), 모드버스형(Modbus)을사용할수있습니다.
•
1 Timer 명령어를
2 프로그램트리의MoveJ 명령어앞/뒤로추가하십시오.
•
3
타입을앞의Timer는초기화로, 뒤의Timer는기록측정으로선택후모니터링변수를선택
하십시오.
• Timer를통해초기화명령어부터기록측정명령어까지의측정된시간이변수에저장됩니다. 이
예시에서는
2 프로그램트리에있는MoveJ 모션을수행하는동안의시간이v1 변수에저장됩
니다.
242

================================================================================
14. 흐름제어명령어
14.13
TactTime
인디케어플랫폼에서는연결된로봇에대한공정데이터를시각화하여확인할수있습니다. 이를위해
필요한공정데이터는Conty를통해인디케어로전송되도록설정할수있습니다. 여기서TactTime
명령어는인디케어리포팅변수로서역할을하게됩니다.
•
1 TactTime의사용방법은Timer의사용법과동일합니다.
•
2 프로그램트리에서반복되는공정(Loop)의텍타임을매반복마다인디케어로리포팅하도록
구성되어있습니다.
•
3 타입만지정할수있으며Timer와달리측정값은인디케어로리포팅되기때문에변수지정을
할필요가없습니다.
243

================================================================================
15. 신호입출력명령어
15
신호입출력명령어
신호입출력명령어들은컨트롤박스의I/O 보드또는엔드툴포트와연결된디지털신호와아날로그
신호의입출력을제어하는데사용됩니다.
15.1
SetSignals
SetSignals 명령어추가시디지털출력설정을위한Property:DO 하위노드와아날로그출력설정을
위한Property:AO 하위노드가함께생성됩니다.
Property:DO
컨트롤박스와엔드툴포트의디지털신호출력을제어합니다.
•
1 SetSignals를프로그램트리에추가하면DO와AO가하위명령어로자동생성이됩니다.
•
2 Property:DO를터치하여DO를설정할수있습니다.
• 우측
3 컨트롤박스패널에서컨트롤박스의DO 신호를채널별터치를통해켬, 끔, 비활성화세
단계로설정할수있습니다.
• 우측
4
엔드툴포트패널에서엔드툴포트의타입(A, B)과채널별로NPN 또는PNP 신호를
켜거나끄도록설정할수있습니다.
•
5 테스트버튼을터치하면명령어설정창에서설정한값의신호를테스트용도로출력합니다.
244

================================================================================
15. 신호입출력명령어
Property:AO
컨트롤박스와엔드툴포트의아날로그신호출력을제어합니다.
•
6 Property:AO를터치하면명령어설정창에서아날로그출력설정을할수있습니다.
•
7 명령어설정패널에서컨트롤박스와엔드툴포트의아날로그출력채널별출력설정을할수
있습니다. 이때채널별켬라디오버튼을선택해야값을입력할수있는에디트창이나타납니다.
• 테스트버튼을클릭하면명령어설정창에서설정한값의신호를테스트용도로출력합니다.
245

================================================================================
15. 신호입출력명령어
15.2
SetTool
사전에등록된툴명령리스트를선택하여툴명령을실행할수있습니다. 툴명령등록은설정화면의
툴을참고하십시오
•
1 SetTool 명령어를
2 프로그램트리에추가할수있습니다.
•
3 사용자툴리스트에서사전설정한사용할툴을선택할수있습니다.
•
4 테스트버튼을터치하면툴신호를출력할수있습니다.
246

================================================================================
15. 신호입출력명령어
15.3
SetVar
등록된변수리스트에서선언한변수들에새로운값을설정합니다. 고정브랜치인Variables에서선언된
변수만사용할수있으며, 변수선언은고정브랜치: Variable을참조하십시오.
•
1 SetVar를
2 프로그램트리에추가하면하위노드는최초비어있습니다.
•
3 변수리스트에서사용할변수선택후
4 등록버튼을터치하면
2 프로그램트리의SetVar
명령어하위에등록한변수노드가차례대로추가됩니다. 변수등록을추가적으로터치하면여러
변수를하위노드에추가할수있습니다.
247

================================================================================
15. 신호입출력명령어
• 등록된하위변수노드를선택하면
5 입력방식을수식또는값중하나로입력할수있습니다.
• 수식은기존수식방식과동일하게작성하여수식기반의값이입력되도록할수있습니다.
• 값입력시Int, Float 타입의변수일경우직접값을입력할수있습니다.
• Jpos, Tpos와같은좌표값일경우
6 직접입력도가능하며
8 교시화면을통해로봇을직접
움직여티칭하여입력할수도있습니다.
• Jpos 변수의경우교시를위해
7 절대위치/상대위치중하나를선택할수있습니다. Tpos 교시
의경우절대위치/상대위치와참조좌표계/툴좌표계중하나를선택해야합니다.
248

================================================================================
16. 응용명령어
16
응용명령어
응용명령어는특정툴을사용하는공정에최적화된공정단위의명령어를의미합니다. 각응용명령
어에는로봇의이동, 신호입출력, 프로그램흐름제어와같은기본명령어들이공정순서에맞게결합되어
하나의매크로명령어로제공됩니다. 이러한명령어들은기본명령어와는달리사용자가공정에맞는
툴을선택해야만사용자명령리스트에표시됩니다. 제공되는응용명령어와이에대한설명은다음과
같습니다.
응용명령어
설명
Pick/Place
픽앤플레이스를위한Pick 명령어와Place 명령어에대한템플릿명령어입니다.
Palletize
다양한패턴의팔레타이징공정을자동으로생성해주는템플릿명령어입니다.
Detect/Retrieve
인디아이또는서드파티비전시스템을로봇과연동하기위한비전인식및
인식결과가져오기명령어입니다.
컨베이어트래킹
(Conveyor
Tracking)
컨베이어와연동하여컨베이어상의움직이는물체를집을수있는컨베이어
트래킹명령어입니다.
F/T Zero
힘/토크센서사용시힘/토크센서를리셋하기위한명령어입니다.
샌딩(Sanding)
샌딩공정구현시샌딩툴을조절하고동작시키기위한명령어입니다.
249

================================================================================
16. 응용명령어
16.1
Pick/Place
Pick/Place 명령어는로봇이그리퍼를사용해물건을짚거나놓는공정에사용됩니다. Pick/Place
명령어를추가후설정에따라Pick 또는Place로선택하여사용할수있습니다. Pick/Place 명령어
추가시하위노드에아래의명령어들이자동생성됩니다.
• Property:ApproachRetract: 접근위치(Approach)와후퇴위치(Retract)와이에대한조건
을설정하기위한하위노드입니다. 접근위치와후퇴위치는타겟위치를기반으로특정좌표로(x,
y, z) 설정된오프셋값을이용하여자동으로계산이됩니다.
• TargetPoint:
타겟위치(TargetPoint)를티칭하기위한하위노드입니다. 타겟위치는직접
위치를교시할수도있고비전을이용하여인식된결과로정할수있습니다.
접근위치(Approach), 후퇴위치(Retract), 타겟위치(Target) 세가지의위치에대한개념은아래
그림과같습니다.
Pick 명령어에서의Approach/Target/Retract 위치
Place 명령어에서의Approach/Target/Retract 위치
250

================================================================================
16. 응용명령어
• 타겟위치(Target): 물체를파지하거나놓는(그리퍼를닫거나여는) 최종위치입니다.
• 접근위치(Approach): 타겟위치로부터설정된방향으로Approach distance 만큼오프셋이
적용된위치입니다.
• 후퇴위치(Retract): 타겟위치로부터설정된방향으로Retract distance 만큼오프셋이적용된
위치입니다.
Pick/Place 명령어설정
•
1 Pick/Place를프로그램트리에추가하면
2 프로그램트리에ApproachRetract와TargetPoint
가하위명령어로자동생성이됩니다.
•
2
프로그램트리의예시와같이Pick/Place 명령어이전에MoveJ를이용하여Pick/Place
공정을시작하기적합한위치로로봇을이동시키십시오.
•
3 Pick/Place 명령어설정창에서조건들을설정합니다.
– 작업타입: 픽또는플레이스로선택하면명령어가Pick, Place로변경이됩니다. 고정브랜
치Program에서비전켬으로설정하게되면비전사용을체크박스가나타납니다. 비전사용
체크시TargetPoint 설정이기존교시화면을통한위치등록이아닌감지물체를선택하도
록바뀌게됩니다.
– 접근툴명령: 접근위치에도달했을때사용할툴명령을지정합니다.
– 타겟툴명령: 타겟위치에도달했을때사용할툴명령을지정합니다.
* Pick (Place)의경우접근툴명령은그리퍼열림(닫힘), 타겟툴명령은그리퍼닫힘
(열림)으로설정할수있습니다.
251

================================================================================
16. 응용명령어
* 툴명령은사전에설정화면의툴에서등록해놓아야합니다.
* 테스트버튼을통해선택된툴명령의동작을테스트해볼수있습니다.
– 공정속도레벨, 공정가속도레벨, 충돌감지: Pick/Place 명령어가실행되기전의로봇
위치에서접근위치로이동하는모션에대한속도/가속도/충돌감지민감도를설정할수있습
니다. 이모션은MoveJ를이용하는관절공간모션입니다.
– 부하: 로봇이물체를들어올리거나(Pick), 놓을때(Place) 이로인한무게변화를반영하기
위한대상물체의무게를입력할수있습니다. 입력한무게만큼부하가더해지거나빼지게
됩니다. 부하를적절히설정하지않는경우충돌감지가오동작할수있습니다. 무게중심을
현재TCP 위치에반영을체크하게되면대상물의무게중심을현재의TCP 위치에있는것으로
설정하게됩니다.
Approach Retract 명령어설정
•
4 Property:ApproachRetract의
5 명령어설정창에서접근위치와후퇴위치에대한설정
을할수있습니다.
– 이동방향: 현재로봇자세에서의툴좌표계를기준으로접근및후퇴방향을설정합니다. X,
‑X, Y, ‑Y, Z, ‑Z 중선택할수있습니다.
– 거리: 접근거리와후퇴거리를입력합니다.
– 속도레벨: 접근위치에서타겟위치로, 타겟위치에서후퇴위치로의이동시속도를설정할
수있습니다.
– 대기[1 단계]: 수식, 디지털신호, 엔드툴포트를이용하여접근전, 후퇴후조건을설정할
252

================================================================================
16. 응용명령어
수있습니다.
* 조건(접근): 접근위치에서타겟위치로이동하기전조건을입력할수있습니다. 예를
들어센서를통해타겟위치에물체가있는지를감지하는경우센서값이들어오는조건을
넣게되면물체가있을때에만타겟위치로의이동모션이실행됩니다.
* 조건(후퇴): 타겟위치에서후퇴위치로이동후조건을입력할수있습니다. 예를들어
그리퍼가물체를실제로파지했는지를감지하는센서가있을경우, 실제로파지가되었을
때에만후퇴이후의다음명령을수행합니다.
* 검사주기: 설정된조건을확인하는주기이며0.1초입력시0.1초에1번씩조건만족
여부를확인합니다.
– 대기[2 단계]:
대기1단계조건완료후추가적인다음조건을대기시간으로입력할수
있습니다.
• 조건을설정을완료후업데이트를터치하여설정을저장하십시오.
TargetPoint 명령어설정
•
6 TargetPoint를설정하기위해선택하십시오.
•
7 타겟위치를터치하면교시화면으로이동하여타겟위치를직접티칭할수있습니다.
•
8
타겟위치에서등록된타겟위치와타겟위치로부터생성된접근위치와후퇴위치를확인할
수있으며,
9
누르는동안입력위치로이동버튼을통해접근위치/타겟위치/후퇴위치를직접
이동해볼수있습니다.
• 비전을사용하는경우
10 감지이름과가져오기또는감지를설정을통해타겟위치를비전으로
253

================================================================================
16. 응용명령어
인식된위치로지정할수있습니다.
254

================================================================================
16. 응용명령어
16.2
Palletize
Palletize 명령어는일정한패턴으로Pick/Place 명령어를반복할때사용할수있습니다. 이를통해
팔레타이징공정구축시유용하게사용할수있습니다. 팔렛패턴을불러오기위해서는설정화면에서
사전설정을해야합니다. 팔렛(Pallet)을참고하여팔렛패턴을먼저설정하십시오.
Palletize 명령어설정
아래그림과같은4 × 4의1번패턴팔렛을pallet1의이름으로설정한상태를가정하고팔레타이즈
명령어를설정하도록하겠습니다.
255

================================================================================
16. 응용명령어
•
1
프로그램트리는Loop를추가후
2
반복횟수를16으로입력하십시오. 팔렛에놓여있는
물건이모두16 개이므로16 회반복해야합니다. 항상반복을선택하거나16이상의값입력시
16 번째물체작업이후다시1 번째물건부터작업을이어합니다.
• Loop 명령하위의첫번째명령어는MoveJ를추가하여팔레타이징공정에서의모든Pick 위치에
도달하기적절한위치를경유점으로티칭하십시오.
•
3 Palletize 명령어를앞서작성한
4 프로그램트리의Loop 하단에추가하십시오.
256

================================================================================
16. 응용명령어
•
5 명령어설정창에서작업타입, 접근/타겟툴명령, 공정속도레벨, 충돌감지민감도, 부하를
설정하십시오. 이는Pick/Place 명령어설정과동일합니다.
•
6 Property:Pallet 명령어설정화면에서팔렛포인트에대한설정을할수있습니다.
•
7 에서팔렛포인트생성, 시작명령어설정화면에서팔렛포인트에대한설정을할수있습니다.
– 패턴: 설정된팔렛패턴리스트가팝업창으로나타납니다. 사용하고자하는패턴을선택하
십시오.
– 모니터링변수: 프로그램실행중작업을완료한팔렛의작업위치가선택한변수에업데이
트됩니다. 모니터링변수는정수형과모드버스형변수를선택할수있습니다.
– 시작인덱스:
프로그램실행시최초작업을시작할팔렛패턴의작업위치를설정할수
있습니다. 별도로설정하지않는다면패턴의첫번째위치부터작업을시작합니다.
– 접근및후퇴이동방향의경우팔렛좌표계를기준으로접근및후퇴방향을설정합니다. 팔렛
좌표계는아래와같습니다.
– 나머지는Approach Retract 명령어설정과설정방법이동일합니다.
257

================================================================================
16. 응용명령어
•
8 경유점생성버튼을터치하면패턴의수만큼경유점이Palletize 명령어하위노드에생성됩
니다.
• 생성된각
9 경유점은모두Pick 명령어와동일하며각각의명령어설정화면에서10 진입위치,
타겟위치, 후퇴위치를확인할수있으며해당위치로로봇을이동시켜볼수있습니다. 또한타겟
위치를명령어별로수정하여필요시자동생성된패턴을미세조정할수있습니다.
프로그램생성이완료되었습니다. Pallet:Place 또한동일한방법으로설정할수있습니다.
258

================================================================================
16. 응용명령어
16.3
Detect/Retrieve
Detect/Retrieve 명령어는로봇과연결된비전을통해물체를인식하거나, 인식된물체의정보를가져
오는역할을합니다.
• Program 명령어에서비전을켬으로선택후설정화면에서사전등록된비전이름을선택하십시
오.
•
1 Detect/Retrieve 명령어를터치하여
2 프로그램트리에추가할수있습니다.
259

================================================================================
16. 응용명령어
•
3 명령어설정창에서감지또는가져오기에대한설정을할수있습니다.
– 감지이름: 감지결과구분을위한이름을입력할수있습니다.
– 선택된비전정보: 설정창에서등록된비전리스트가팝업창으로나타나며사용할비전을
선택합니다.
– 타겟객체: 비전에요청할인식타겟을선택할수있습니다. all을선택할경우정해진목표
없이모두인식합니다.
– 인식타입
* 새촬영:
비전을통해촬영및인식연산을수행하도록합니다. 보통의경우매번새
촬영을통해인식결과를받아옵니다.
* 가져오기: 이전의새촬영명령어실행을통해인식된결과를가져오는역할을합니다.
한번의촬영화면에서여러객체를인식하고자할경우한번의새촬영명령후여러번의
가져오기명령을통해여러객체인식정보를받아올수있습니다.
■인디아이를사용할경우인디아이앱의그래프에ON RETRIEVE=ON으로설정된
Select 모듈이있어야합니다.
Photoneo 비전
• 포토네오비전센서를선택하는경우, 타겟객체는비활성화됩니다.
•
5
솔루션ID와비전ID를통해, 포토네오웹UI 상의솔루션과비전시스템을선택하여연결할
수있습니다.
• 솔루션ID: 3D 물체모델정보, 카메라정보, 및캘리브레이션정보를담고있는단위이며숫자로
260

================================================================================
16. 응용명령어
된고유ID를가지고있습니다.
• 비전ID:
솔루션의하위항목으로3D 물체모델정보및카메라정보를가지고있는단위이며
마찬가지로숫자로된고유ID를가지고있습니다.
• 아래웹UI 창에서솔루션ID와비전ID를확인하실수있습니다.
261

================================================================================
16. 응용명령어
16.4
샌딩(Sanding)
OnRobot 샌더툴의동작을제어하기위한명령어입니다. 컨트롤박스는OnRobot Compute Box와
같은네트워크에연결되어있어야하며, 모드버스를통해통신을수행합니다.
•
1 Sanding 명령어를
2 프로그램트리에추가하십시오.
•
3 명령어설정창에서샌딩툴과관련한설정을할수있습니다.
– IP 주소: OnRobot Compute Box의IP 주소를입력하십시오.
– 작업타입: 샌더의작동(시작) 및정지를선택하십시오.
– 타겟속도: 샌더의회전속도를설정하십시오.
•
4 테스트를터치하면설정된속도로샌더가작동하거나정지합니다.
262

================================================================================
16. 응용명령어
16.5
F/T Zero
로봇에연결된힘/토크센서의값을0으로초기화하는명령어입니다. 힘/토크센서에서발생하는센서의
편향(Bias)를제거할수있습니다.
•
1 F/T Zero 명령어를
2 프로그램트리에추가할수있습니다.
• 주로힘제어를수행하는MoveLF 명령어를사용하기전특정타이밍에초기화를해주십시오.
어플리케이션에따라서F/T Zero 명령어의실행위치를적절하게배치할수있습니다.
263

================================================================================
16. 응용명령어
16.6
컨베이어트래킹(Conveyor Tracking)
컨베이어트래킹명령어는설정된컨베이어를따라움직이는로봇의경로를생성해주는명령어입니다.
설정화면의컨베이어(Conveyor)에서사전에컨베이어와관련된정보를등록하십시오. 컨베이어트래
킹공정은다음과같습니다.
• 로봇은현재A 위치에정지해있습니다.
• 컨베이어의속도는좌측의엔코더를통해측정되며, 컨베이어상의물체는트리거센서를통해
감지됩니다.
• 로봇이A 위치부터C 위치까지수행하는모션을컨베이어트래킹모션으로정의할수있습니다.
컨베이어트래킹모션의시작은트리거센서의감지를통해시작됩니다.
• ConveyorTracking 명령어하위노드의Pick 명령어에의해트리거센서를통해감지된물체의
움직임에따라로봇이움직이면서B 위치에서물체파지후C 높이만큼되돌아오게됩니다.
■ConveyorTracking 명령어하위노드에Pick 명령어가아닌다른명령어를통해로봇의컨베이
어트래킹모션동안의작업을구현할수있습니다. 하위노드에들어갈수없는명령어는다음과
같으며이를제외한다른명령어는사용이가능합니다.
– ConveyorTracking, MoveExtServo, SetSpeedRatio, SetFrame, GoHome, MoveLF,
MoveJ, MoveC, MoveR, Clone
264

================================================================================
16. 응용명령어
•
1
ConveyorTracking 명령어를
2
프로그램트리에추가후ConveyorTracking 명령어
하위노드에는Pick 명령어를추가하십시오.
•
3 명령어설정창의설정탭에서컨베이어관련설정을할수있습니다.
– 컨베이어: 설정화면에서등록된컨베이어리스트가팝업창으로뜨며사용하고자하는컨베
이어를선택하십시오.
– 객체분실시정지: 입력된작업시간을바탕으로추적가능여부를판단합니다. 켬일경우
추적작업이불가능한물체가발생했을때알람발생후프로그램이정지되며, 끔일경우해당
컨베이어트래킹모션을중단후다음트리거센서입력을대기합니다.
– 특이점회피: 켬일경우컨베이어트래킹모션중특이점발생시회피모션을하며, 끔일경우
특이점발생시비상정지합니다.
– 모션속도: 로봇이컨베이어트래킹모션을수행하는동안로봇의최대속도와가속도제한을
설정합니다.
– 작업시간: 로봇이컨베이어트래킹모션을수행하는시간이입력한작업시간보다짧을경우
작업수행불가능으로처리됩니다.
265

================================================================================
16. 응용명령어
•
4 이동탭에서는선택된컨베이어설정의방향을확인할수있습니다.
– 시작점, 끝점, 방향을각각눌러등록된위치를확인할수있습니다.
– 누르는동안입력위치로이동버튼을통해등록된시작점, 끝점으로로봇을직접이동시켜볼
수있습니다. 이를통해등록된로봇이동방향이컨베이어진행방향과일치하는지프로그래밍
중확인할수있습니다.
• 컨베이어트래킹명령어설정이완료되면
5 를통해실제컨베이어트래킹동작을사전테스트할
수있습니다.
– 가속도, 특이점회피설정은컨베이어트래킹사전테스트시에만적용이됩니다.
– 누르는동안컨베이어트래킹동작버튼을누르는동안실제트리거발생시의설정된컨베이어
트래킹조건에따라로봇모션을수행합니다.
•
6 Pick 명령어설정은Pick/Place을참고하여정지한물체를Pick 하는것과동일하게설정하
십시오.
비전컨베이어트래킹
컨베이어트래킹명령어를응용하여비전컨베이어트래킹을구현할수있습니다. 일반적인상태에서
Detect/Retrieve 명령어를통해물체인식후인식된물체로Pick 명령어의비전연동기능설정을
통해인식을통한Pick을할수있습니다. 이를ConveyorTracking 명령어하위노드에추가하게되면
컨베이어를따라움직이는물체에맞추어로봇이따라움직이며비전컨베이어트래킹이구현됩니다.
266

================================================================================
17. 실행
17
실행
작성된프로그램의실행제어와프로그램실행중각종이벤트와변수, 그리고디지털입출력상태
확인화면이제공됩니다. Conty의시작화면에서실행을터치하거나다른화면에서좌측상단의실행
버튼을터치하면실행화면으로이동합니다.
267

================================================================================
17. 실행
17.1
실행화면
실행화면은로봇시뮬레이션및로봇상태, 변수및입출력에대한모니터링화면, 프로그램상태, 프로그
램실행제어로구성되어있습니다.
•
1 시뮬레이션: 작성된프로그램대로실행중인로봇의움직임이표시됩니다.
•
2 프로그램실행제어: 작성한프로그램을실행하거나일시정지, 재시작및정지기능을제공합
니다.
•
3
상태탭: 상태확인창에표시될항목을선택할수있습니다. 프로그램, 입출력, 변수, 로봇
상태로구성됩니다.
•
4 상태확인창:
• 프로그램: 실행중인프로그램의공정, 이벤트, 변수, 디지털입출력상태화면을제공합니다.
• 입출력: 컨트롤박스와엔드툴포트의디지털및아날로그입출력상태를확인할수있습니다.
• 변수: 프로그램에서사용중인변수들의상태를확인할수있습니다.
• 로봇상태: 로봇의관절서보상태및온도를실시간으로확인할수있습니다.
•
5 프로그램관리: 프로그램관리화면이표시됩니다. 프로그램관리화면에서는프로그램을새로
만들거나저장소별로저장된프로그램을불러옵니다. 또한저장된프로그램의이름을편집하거나
삭제할수있습니다. 자세한내용은프로그램작성을참고하십시오
268

================================================================================
17. 실행
17.2
상태확인창
상태확인에서는프로그램, 입출력, 변수, 로봇상태를확인할수있는창을제공합니다.
프로그램
실행중인프로그램의상태를확인할수있습니다.
•
1 공정: 실행중인프로그램의공정프로그램트리를표시합니다. 프로그램트리의명령어들이
위에서아래순서로차례차례실행됩니다.
•
2
이벤트: 실행중인프로그램의이벤트프로그램트리를표시합니다. 특정조건이만족되면
공정프로그램과병행해서프로그램트리의명령어들이위에서아래순서로차례차례실행됩니다.
•
3 변수: 프로그램에사용중인변수들을표시합니다.
•
4 입출력: I/O보드와앤드툴포트의디지털입출력상태를표시합니다.
269

================================================================================
17. 실행
입출력
실행중인프로그램의입출력상태를확인할수있습니다.
•
1
디지털: 컨트롤박스/엔드툴포트의디지털입출력에각각연결된외부장치의신호상태를
표시합니다.
•
2 아날로그: 컨트롤박스/엔드툴포트의아날로그입출력에각각연결된외부장치의신호상태를
표시합니다.
270

================================================================================
17. 실행
변수
프로그램에서사용중인변수들을표시합니다. 이름, 값, 타입, 주소를확인할수있습니다.
로봇상태
로봇의각관절상태와온도, 상태코드를확인할수있습니다.
271

================================================================================
18. 설정
18
설정
18.1
설정화면이동
로봇을사용하기전로봇동작및신호입출력에관련한정보를설정할수있습니다. 설정은Conty의
시작화면또는상단탭에서설정을선택하여시작할수있습니다.
설정화면은로봇환경, 프로그램환경, 시스템, Conty 항목으로분류됩니다. 각항목에대한구성은
아래와같습니다.
• 로봇환경설정: 마운팅, 툴제원, 충돌감지, 직접교시, 홈위치, 커스텀위치, 제어게인튜닝
• 프로그램환경설정: 툴좌표계(TCP, Tool Center Point), 참조좌표계, 툴, 텔레오퍼레이션, 힘/
토크센서, 팔렛(Pallet), 컨베이어(Conveyor), 비전, 모드버스서버
• 시스템설정: 시작옵션, 안전, 서보자동꺼짐, DIO 기능구성
• Conty 설정: 언어, 화면보호기, 부하율표시, 관리자모드, 3D 뷰
272

================================================================================
18. 설정
18.2
로봇환경설정
마운팅
로봇을벽면이나천장등의경사가있는곳에설치할경우사용전반드시회전각및경사각을설정해야
합니다. 설정된마운팅각도는전역적으로적용됩니다.
• 좌측로봇환경메뉴에서
1 마운팅을터치하십시오.
•
2 기본마운팅위치는경사가없는바닥면, 또는수직벽면이나천장과같이일반적으로사용되는
경사각설정등을제공하고있습니다. 각버튼을터치하면로봇경사각(Y축) 값이각각0도, 90도,
180도, ‑90도로자동으로입력됩니다.
•
3 베이스회전각(Z축), 로봇경사각(Y축) 값을직접입력할수있습니다. 입력필드에값을직접
입력하거나좌우+/‑15° 버튼을터치하면15° 단위로설정할수있습니다.
– 베이스회전각(Z축): 기본참조좌표계의Z 축기준의회전각도입니다.
– 로봇경사각(Y축): 기본참조좌표계의Y 축기준의회전각도입니다.
•
4 시뮬레이션화면에서로봇변경된자세를확인할수있습니다.
273

================================================================================
18. 설정
•
5 업데이트를터치하면설정된값이실제로봇에반영됩니다.
– 설정을진행하시겠습니까? 알림시팝업메시지에서예를선택합니다.
* 사용자가입력한마운팅경사각정보가정상인경우: “마운팅위치업데이트가완료되
었습니다” 인스턴트메시지표시
* 입력한마운팅경사각정보가실제와다를경우: “설정된마운팅위치정보는실제로봇
상태와다릅니다. 설정값변경후다시시도해주세요.” 인스턴트메시지표시
마운팅각도가실제로봇과다르게설정이된경우직접교시모드로전환시로봇이
의도치않게움직일수있습니다. 마운팅설정시이러한점을주의하십시오.
274

================================================================================
18. 설정
툴제원
툴제원에서는엔드툴에장착되는툴의질량과질량중심, 관성모멘트를설정합니다. 설정된툴제원은
전역적으로적용이되며, 프로그램내에서툴제원을바꾸고자할경우SetToolMass 명령어를이용할
수있습니다.
• 좌측로봇환경메뉴에서
1 툴제원을터치하십시오.
•
2 에서툴질량, 질량중심, 관성모멘트값을입력합니다. 질량중심은기본툴좌표계(TCP)의
원점에서툴질량중심까지의위치로표현되며이위치는툴좌표계를기준으로정의합니다. 만약
관성모멘트를모를경우에는관성모멘트값을모두0 으로입력합니다.
• 실제장착된툴제원과상이한값을입력하게되면
3 직접교시모드전환시로봇의중력보상이
적절히되지않아움직이게됩니다.
•
4 업데이트버튼을통해입력된값을반영합니다.
툴제원을CAD 소프트웨어를이용하여추출하는방법은http://docs.
neuromeka.com/을참고해주시기바랍니다.
툴무게와무게중심이실제설치된툴과다르게입력될경우로봇동작중충돌감
지오탐(false positive)이발생할수있습니다. 또한직접교시모드로전환시
로봇이의도치않게움직일수있으니주의하십시오.
275

================================================================================
18. 설정
충돌감지
충돌감지민감도를설정합니다. 설정된충돌감지민감도는로봇수동조작(이동) 기능사용과같은로봇의
수동모드모션시전역적으로적용됩니다. 프로그램의모션명령어사용시개별적으로민감도조절도
가능합니다.
• 좌측로봇환경메뉴에서
1 충돌감지를터치하십시오.
•
2 탭에서4가지충돌감지민감도설정방법을선택할수있습니다.
기본설정
아주민감함부터아주둔감함까지의5단계로구분된충돌감지민감도설정이가능합니다. 간편하게5
단계로구분된민감도를설정할수있지만민감도를미세하게튜닝하기위해서는수동튜닝또는자동
튜닝을이용해야합니다.
276

================================================================================
18. 설정
수동튜닝
충돌감지경계값을수동으로수정합니다. 각관절이아래조건을만족할때충돌을감지합니다.
외부토크> [J Torque Base] + [J Torque Tangent] × [최대속도에대한현재속도의비율]
•
1 관절별튜닝을위해경계값을수정하고자하는관절을선택하십시오.
• 선택한관절의
2
J Torque Base, J Torque Tangent 값을직접입력후업데이트버튼을
터치하십시오.
• 적절한값을찾기위해이전에충돌감지오탐(False Positive) 또는미탐(False Negative)이
발생했을때의알람메시지를참고하여해당하는관절의값을조절하십시오.
277

================================================================================
18. 설정
자동튜닝
특정로봇프로그램에최적의충돌감지경계값을자동으로튜닝합니다. 이를위해로봇은대상프로그램
내모션들을속도레벨을바꾸어가며직접수행하면서최적의경계값을찾습니다.
•
1 프로그램, 정밀도, 최대속도를설정하십시오.
– 프로그램: 로봇저장소에저장된프로그램을불러올수있습니다.
– 정밀도: 튜닝정밀도를선택하십시오.
– 최대속도: 선택된프로그램내모션의최대속도를선택하십시오.
•
2 튜닝시작버튼을터치하면로봇이프로그램내모션을직접수행하며최적튜닝을진행합니다.
• 로봇이움직이므로주변에로봇과충돌할수있는장애물은비워주시기
바랍니다.
• 모든관절이충분히움직이지않으면적절한J Torque Tangent를찾을수
없어, 높은속도에서충돌을오탐하게되므로자동튜닝시낮은속도로만
움직이지않도록해야합니다.
• 자동튜닝으로선택된프로그램내로봇모션이특정관절의모션을수행하
지않는경우기본값인J Torque Base=500으로설정됩니다.
278

================================================================================
18. 설정
공장초기화
충돌감지경계값을로봇출하시설정된값으로초기화합니다.
279

================================================================================
18. 설정
직접교시
직접교시민감도를설정합니다. 직접교시민감도활성화를켜게되면각관절의마찰력을단계별로조절
하여직접교시를사용할수있습니다. 설정된직접교시민감도는전역적으로적용됩니다.
• 좌측로봇환경메뉴에서
1 직접교시를터치하십시오.
• 민감도활성화를
2 켬으로선택하고관절별로민감도를설정합니다.
• 민감도는1 단계에서9 단계까지레벨로설정가능하며숫자가높을수록마찰이작아집니다.
• 민감도세부설정이완료되면
3 업데이트를터치하십시오.
• 업데이트된민감도는
4 직접교시켜짐버튼을눌러직접교시모드에서직접로봇관절을움직여
보면서추가적인세부조절을할수있습니다.
• 민감도가높을수록마찰력이없는것과같이동작하며, 민감도가낮을수록마찰력이높은시스템과
같이동작합니다.
직접교시민감도가너무높을경우, 로봇은마치마찰이없는것처럼동작하게
되어한번움직인방향으로멈추지않고계속움직이게됩니다. 이는마찰이없는
시스템의특성이기때문에유의하여사용하여주시기바랍니다.
280

================================================================================
18. 설정
홈위치
로봇의홈위치는일반적으로작업의시작또는종료시, 또는오류발생시로봇이복귀하는위치로사
용됩니다. 사용자는사용목적에따라홈위치를새로지정할수있습니다. 등록된홈위치는프로그램
명령어GoHome에서사용할수있으며, 로봇수동조작(이동)에서지정위치이동기능으로사용할수
있습니다.
• 좌측로봇환경메뉴에서
1 홈위치를터치하십시오.
•
2 홈위치등록을터치하면교시화면으로이동하며이를통해홈위치를새롭게등록할수있습
니다.
•
3 누르는동안입력위치로이동버튼을통해현재등록된홈위치로로봇을이동시킬수있습니다.
•
4 업데이트를통해등록된홈위치가적용되도록하십시오.
281

================================================================================
18. 설정
커스텀위치
로봇의자주사용하는위치및자세를커스텀위치로등록하면전역변수로서사용할수있습니다. 등록된
커스텀위치는Jpos 전역변수로서어디서든접근이가능합니다. 아래기능사용시등록된커스텀위치를
불러올수있습니다.
• MoveJ: 프로그램작성시MoveJ 명령어의경유점을변수로등록시사용할수있습니다.
• 이동화면또는교시화면: 지정위치이동기능으로사용할수있습니다.
• 좌측로봇환경메뉴에서
1 커스텀위치를터치하십시오.
•
2 커스텀위치리스트에는기존등록된커스텀위치리스트가나타나며,
버튼을눌러새로운
커스텀위치를추가할수있습니다.
•
3 커스텀위치등록을터치하면교시화면으로이동하며이를통해새로운커스텀위치를등록하
거나기존커스텀위치를수정할수있습니다.
•
4 누르는동안입력위치로이동버튼을통해현재선택된커스텀위치로직접이동해볼수있습니
다.
•
5 업데이트를통해등록한커스텀위치를저장하십시오.
282

================================================================================
18. 설정
제어게인튜닝
제어게인튜닝은고급기능으로서로봇에설정된출하게인을변경하고자하는
경우에사용할수있습니다. 잘못된게인설정은로봇의성능을낮추고진동을
발생시킬수있으므로로봇제어게인에대해충분히숙지한사용자만이기능을
사용하시기바랍니다. 고급기능은관리자모드에서접근이가능합니다.
• 좌측로봇환경에서
1 게인튜닝선택후튜닝하고자하는제어게인종류를
2 탭에서선택하
십시오.
•
3 조인트이동게인의경우각관절별로Kp, Kv, KL2 값을직접입력하여설정할수있습니다.
•
4 업데이트버튼을터치하여입력한게인값을반영할수있습니다.
위치제어게인: Kp, Kv, KL2
• 초기Kp와Kv 설정: 초기Kp 와Kv 를설정할때, 안정화조건K2
v > 2Kp 를충족해야합니다.
로봇출하시초기값은Kp = 100, Kv = 20이지만이는로봇의특성에따라조정될수있습니다.
• KL2 이득조정:
KL2 =
1
γ2 이며, 이론적으로는L2 이득인γ 값을절반으로줄이면에러노옴
(error norm)이대략1
4 로감소하게됩니다. 즉, KL2 값을높일수록로봇의위치에러가낮아지고
성능이좋아집니다.
• 조정종료기준: γ 가작아질수록(KL2가커질수록) 대역폭이증가하여노이즈증폭이더두드러
지게나타납니다. 위치에러그래프가노이즈로인해거칠어지면, 이는KL2 게인증가종료지점을
283

================================================================================
18. 설정
의미합니다.
• 조인트이동게인: MoveJ 명령어에의한로봇모션과관절위치이동및지정위치이동조그명령
시적용됩니다.
• 태스크이동게인: MoveL, MoveC 명령어에의한로봇모션과작업위치이동조그명령시적용
됩니다.
284

================================================================================
18. 설정
18.3
프로그램환경설정
툴좌표계(TCP, Tool Center Point)
툴중심점및툴좌표계정보를설정합니다. 툴좌표계는여러개등록이가능하며각각고유의이름을가
지고저장합니다. 기본툴좌표계는tool_0로설정되어있으며수정및삭제가불가능합니다. 기본툴좌
표계는엔드툴플랜지중심에정의되어있습니다. 등록된툴좌표계들은프로그램명령어SetFrame에서
불러와서사용할수있습니다.
• 좌측프로그램환경메뉴에서
1 툴좌표계를터치하십시오.
•
2
사용자툴좌표계리스트에서기존등록된툴좌표계리스트가나타납니다.
기본툴좌
표계로설정하거나,
새로운툴좌표계를등록하거나,
등록된툴좌표계를삭제할수
있습니다.
•
3 이름, 위치를직접입력하여등록할수있습니다.설정하십시오.
•
4 업데이트를누르면새로운툴좌표계가저장됩니다.
285

================================================================================
18. 설정
TCP (Tool Center Point) 계산
아래그림과같이엔드툴플랜지표면중심에서Z 축으로100mm 만큼떨어져있고Y 축으로30 도만큼
회전되어있는새툴좌표계에대한TCP 입력방법을예시로보겠습니다. 이경우
3
위치필드에Z
100mm, V 30°로입력해야합니다.
• x, y, z (mm): 기본툴좌표계(x0, y0, z0)의원점인엔드툴플랜지중심점에서새롭게정의되는
툴중심점까지의거리입니다. 따라서예제의경우Z 100mm이됩니다.
• u, v, w (deg):
기본툴좌표계를기준으로새롭게정의되는툴좌표계간의회전각도입니다.
새로운툴중심점(xtemp, ytemp, ztemp) 기준으로정의하고자하는툴좌표계로fixed XYZ 정의를
사용하여회전각도를계산합니다. fixed XYZ 는총3 번의연속된회전으로정의되는데, 기준
좌표계의X 축에대한회전, Y 축에대한회전, Z 축에대한회전을순차적으로합니다. 이때, XYZ
축에대한회전을u, v, w로나타냅니다. 따라서예제의경우Y 축기준30도만회전하게되므로V
30°입니다.
286

================================================================================
18. 설정
참조좌표계
작업공간에서로봇위치를정의하기위해서는툴좌표계의위치및회전을정의하는데기준이되는참조
좌표계가필요합니다. 참조좌표계는여러개등록이가능하며각각고유의이름을가지고저장합니다.
등록된참조좌표계들은프로그램작성시모션명령의기준이되는참조좌표계로사용될수있습니다.
기본으로제공되는참조좌표계는ref_0 로설정되어있으며수정및삭제가불가능합니다. 기본참조좌
표계는로봇베이스바닥면의중심점과원점이일치하며바닥에서수직위로Z 축, 로봇베이스포트반
대쪽방향이X 축으로설정되어제공됩니다. 등록된참조좌표계는모션명령어SetFrame에서불러와서
사용할수있습니다.
• 좌측프로그램환경메뉴에서
1 참조좌표계를터치하십시오.
•
2
사용자참조좌표계리스트에서기존등록된툴좌표계리스트가나타납니다.
기본툴
좌표계로설정하거나,
새로운툴좌표계를등록하거나,
등록된툴좌표계를삭제할수
있습니다.
• 참조좌표계를설정하는방법에는
3 값입력, 3점교시, 비전감지의세가지방법이있습니다.
값입력
• 사용자가직접좌표값을입력하여참조좌표계를설정하는방법입니다. 이방법은사용자가참조
점을알고있을때사용할수있습니다.
•
3 값입력을터치후
4 입력창에이름과위치를입력후
5 업데이트버튼을눌러등록할수
있습니다.
287

================================================================================
18. 설정
3 점교시
3개의참조점을티칭하여이를바탕으로참조좌표계를설정하는방법입니다. 좌표계는공간상의세점
으로부터정의됩니다. 직접교시또는조그를사용하여3개의참조점을교시할수있습니다.
• 3점교시탭을선택하십시오.
•
6 3점교시를위한창이나타납니다. P1, P2, P3에대한위치를등록할수있습니다.
• P1과P2를잇는선분이X축이됩니다. P3 점은XY 평면을결정하는데사용됩니다. Z축은XY
평면에수직방향이되며, Y축은Z축과X축에오른손법칙을적용하여결정합니다.
• 교시하고자하는위치를선택후위치등록버튼을누르면교시화면으로이동하여해당위치를
등록할수있습니다.
• P1, P2, P3 세위치가등록되면이를바탕으로자동으로참조좌표계가계산되어
6 로봇시뮬레
이션창에참조좌표계가표시됩니다.
•
7 누르는동안입력위치로이동버튼을통해등록된P1, P2, P3 위치로로봇을직접이동해볼수
있습니다.
288

================================================================================
18. 설정
비전감지
비전시스템을사용하여참조좌표계를설정하는방법입니다. 비전시스템을통해검출된물체의특징점의
위치를찾고, 이를기반으로참조좌표계를설정합니다.
• 비전감지를터치하고이름을입력하십시오.
•
8 패널에서참조좌표계감지를위한비전옵션을선택하십시오.
– 비전선택:
콤보박스를터치하면비전에등록된리스트가나타나며이중사용할비전을
선택하십시오.
– 감지이름선택: 콤보박스를터치하면비전앱에서사전설정된인식물체를불러올수있습
니다.
* 인디아이: 인디아이앱에서사전설정된물체를불러올수있습니다. 인디아이사용시
인디아이매뉴얼을참고하여비전설정및비전감지프로그램을다시설정하십시오.
* Photoneo:
Photoneo 비전센서를사용할경우, Detect/Retrieve를통해감지한
감지정보를불러올수있습니다.
– 감지: 버튼을터치하면설정한비전및물체에대한위치를감지합니다. 정상적으로물체감
지가된경우에, 자동으로
9
위치값이나타납니다. 물체감지에성공하거나실패한경우
인스턴트메시지가출력됩니다.
• 위치설정이완료되면업데이트를터치하십시오.
289

================================================================================
18. 설정
툴
컨트롤박스또는엔드툴포트와연결된툴이나Modbus 통신을통해외부장비와연결된툴들에대해각
전기적신호별로연관된툴동작을설정합니다. 설정된툴정보는프로그램명령어SetTool에서불러와
사용할수있습니다.
• 좌측프로그램환경메뉴에서
1 툴을터치하십시오.
•
2 사용자툴리스트에기존에등록된툴리스트가나타나며새로운툴추가, 등록된툴삭제를할
수있습니다.
•
3 선택된툴정보에서새로운툴또는기존툴에대한정보를등록할수있습니다.
– 이름: 툴명령어를구분하기위한이름을등록하십시오.
– 작업시간: 해당작업명령이인가된후대기하는Sleep 시간입니다. 예를들어디지털출력으
로열림/닫힘제어가되는2지그리퍼의경우그리퍼열림/닫힘명령인가후실제로그리퍼가
모두열리거나닫히는데에걸리는시간을입력할수있습니다. 대기시간이필요하지않다면
0을입력하십시오.
– 출력: 연결된툴의제어방식과채널을설정할수있습니다. 컨트롤박스, 엔드툴포트, 모드
버스서버, 그리퍼중하나를선택할수있습니다.
290

================================================================================
18. 설정
컨트롤박스에툴연결
• 컨트롤박스출력을툴과연결하였을경우
4 컨트롤박스의디지털출력채널을선택하십시오. 채
널버튼은그림과같이토글버튼으로신호를On
, Off
로설정하거나신호를초기화
할수있습니다.
• 설정된출력채널에대해
5 테스트버튼을터치하여동작테스트를할수있으며,
6 업데이트를
통해설정을저장할수있습니다.
291

================================================================================
18. 설정
엔드툴포트에툴연결
• 엔드툴포트출력을툴과연결하였을경우
7 엔드툴포트의디지털출력신호를설정하십시오.
• 엔드툴포트의포트종류(A, B), 채널(0, 1), NPN/PNP 트랜지스터종류를설정하고끔/켬을
선택할수있습니다.
• 테스트버튼과업데이트버튼을동일하게사용할수있습니다.
292

================================================================================
18. 설정
모드버스로툴과통신
• 연결된툴이모드버스서버로통신하여제어되는경우
8 Modbus 주소및출력값을설정하십시
오.
• 서버에서는사전에모드버스서버를통해등록된서버를선택할수있습니다.
• 명령어리스트에서명령어를추가후주소, 값을입력후업데이트버튼을눌러새로운명령어를
추가할수있습니다.
• 테스트버튼을통해설정된모드버스서버의주소로값을보내볼수있습니다. 이를통해모드버스로
통신되는툴이정상동작되는지확인이가능합니다.
293

================================================================================
18. 설정
서드파티그리퍼연결(RS485)
RS485 통신을이용하는서드파티제조사그리퍼의경우에는출력‑그리퍼를선택하여제어할수있습니
다. 기본적으로제공되는서드파티그리퍼제조사는다음과같습니다.
• Robotiq 그리퍼: 파지폭, 타겟속도, 타겟힘조절기능제공
• DH 그리퍼: 파지폭, 타겟속도, 타겟힘(Close), 타겟힘(Open) 조절기능제공
• Activate: 연결된그리퍼를활성화하는명령입니다. 그리퍼최초동작시에반드시Activate를
전송해야합니다.
• Re‑activate: 그리퍼를비활성화하는명령입니다.
• SetPVT: 설정한
9 파지폭, 타겟속도, 힘값을그리퍼로전송하는명령입니다.
294

================================================================================
18. 설정
텔레오퍼레이션
텔레오퍼레이션은사용자가원격위치에서로봇을조작하는기술을지칭합니다. 텔레오퍼레이션은실
시간으로로봇의동작을제어할수있으며, 원격지에서텔레오퍼레이션을수행할경우사용자는로봇이
있는환경을직접보거나느낄수있게해줍니다. 특히협동로봇의경우, 텔레오퍼레이션은로봇과인간
간의상호작용을강화하고, 복잡한작업을로봇에게교시할때효율성과안전성을높일수있습니다.
뉴로메카의핸드헬드교시장치는사용자가협동로봇을직접조작할수있게해주는리모콘타입의
장치입니다. 핸드헬드교시장치는장치의위치, 속도, 가속도를자체적으로추정할수있으며이정보를
바탕으로로봇에게텔레오퍼레이션명령을인가하게됩니다. 이를통해사용자는로봇의움직임을직관
적으로제어할수있으며, 사용자는로봇의동작을보고느끼며실시간으로조정할수있습니다.
핸드헬드교시장치를통해기존펜던트를이용해교시가어렵고복잡한작업(예. 주전자물붓기‑
핸드드립브루잉, 후추털기, 후라이팬뒤집기등)을손쉽게교시할수있습니다.
핸드헬드교시장치
핸드헬드교시장치캘리브레이션을위한로봇부착예시
295

================================================================================
18. 설정
핸드헬드캘리브레이션및모션녹화
프로그램환경의텔레오퍼레이션창에서는핸드헬드교시장치를등록할수있습니다. 장치등록시
핸드헬드교시장치에대한캘리브레이션을수행해야하며, 캘리브레이션이후모션녹화를수행할수
있습니다. 녹화된모션은프로그램명령어MoveR에서불러와사용할수있습니다.
• 좌측프로그램환경메뉴에서
1 텔레오퍼레이션을터치하십시오.
•
2
녹화모션리스트에기존에등록된녹화모션리스트가나타나며새롭게추가및삭제할수
있습니다.
•
3 교시장치설정에서교시의정확도, 차단주파수, 게인을설정할수있습니다.
– 정확도(0‑1): 핸드헬드교시장치의위치추정정확도를의미하며1에가까울수록교시장치
의속도와가속도를더욱정밀하게추정합니다.
– 차단주파수(0‑1000): 저주파통과설정값입니다. 차단주파수이하의교시장치움직임만
로봇에게전달합니다. 차단주파수가낮으면미세한떨림과같은고주파움직임이줄어듭니다.
– 게인(기본값10): 교시장치의움직임에반응하는정도를조절합니다. 값이클수록로봇이
교시장치의움직임에더민감하게반응합니다.
•
4 교시장치와의연결을위한정보들을입력합니다. 교시장치의IP 주소와Port를입력후연결
버튼을터치하여정상연결이되면테스트(교시장치위치)에현재교시장치위치X, Y, Z, U, V, W
가실시간으로업데이트됩니다.
•
5 선택된모션에서캘리브레이션, 모션녹화, 녹화된모션을저장할수있습니다.
– 모션이름: 저장할모션이름을입력하십시오.
296

================================================================================
18. 설정
– 캘리브레이션:
앞페이지의그림과같이핸드헬드교시장치를로봇의말단에부착하고
로봇을기본홈위치로이동시킨후캘리브레이션시작버튼을터치하십시오. 로봇이캘리
브레이션을위해작업공간에서x, y, z방향각각10mm 씩반복적으로움직임을수행한후
캘리브레이션이완료됩니다.
– 모션녹화:
녹화시작버튼을누르면로봇의상태표시등이파란색으로점등됩니다. 이는
모션녹화준비가완료된상태를나타내며, 핸드헬드장치의교시버튼을누른후핸드헬드를
움직이게되면로봇이동일한좌표계를따라움직이게됩니다. 핸드헬드장치의트리거를
누르고움직이는동안로봇의모션은녹화가됩니다. 모션녹화가완료되면정지버튼을눌러
모션녹화를종료할수있습니다.
– 실행: 모션실행버튼을누르면녹화된모션이실행이되며, 실행중로봇동작을멈추고싶을
경우정지버튼을통해멈출수있습니다.
– 업데이트버튼을누르면녹화된모션이저장되어녹화모션리스트에저장됩니다.
• 저장된모션은프로그램화면에서MoveR을통해불러올수있습니다. 이를통해텔레오퍼레이션
으로녹화된영상을로봇프로그램상불러와실행할수있습니다.
297

================================================================================
18. 설정
힘/토크센서
샌딩, 폴리싱과같은힘제어가필요한로봇어플리케이션사용시힘/토크센서를연결할수있습니다.
설정된힘/토크센서는프로그램명령어MoveLF, Sanding, F/T Zero에서불러와사용할수있으며,
수식사용시변수값으로힘/토크센서데이터를불러올수있습니다.
• 좌측프로그램환경메뉴에서
1 힘/토크센서를터치하십시오.
•
2 F/T 센서의정보를입력하여센서와연결할수있습니다.
– 모델: 콤보박스를터치하면힘/토크센서제조사‑모델명목록이팝업창으로나타나며, 여기
서연결된센서를터치하십시오. 사용가능한센서모델제조사는다음과같습니다.
* Aidin Robotics: AFT200‑D80, AFT200‑D80‑EC
* Robotus: RFT80‑6A01, RFT60‑HA01
* Onrobot: HEX‑E/H QC
– 인터페이스:
콤보박스를터치하면힘/토크센서연결이가능한인터페이스목록이나타
납니다. 센서모델에따라지원가능한인터페이스가다르며인터페이스별특성은다음과
같습니다.
* Endtool CAN: 로봇엔드툴포트에센서를연결하여데이터를수신합니다.
* CB CAN: 컨트롤박스에센서를연결하여데이터를수신합니다.
* Modbus client: 모드버스통신을통해센서데이터를수신합니다.
– IP 주소: Modbus client 인터페이스를사용할경우센서의IP 주소를입력합니다.
• 연결이정상적으로완료된경우
3
테스트의Fx, Fy, Fz, Tx, Ty, Tz 의값이힘/토크센서로부터
298

================================================================================
18. 설정
수신되는값으로나타납니다.
• 오프셋에서힘/토크센서의오프셋값을지정할수있습니다. 센서제조사별오프셋값이상이할
수있으니상황에맞게입력하십시오.
• 업데이트버튼을누르면설정한힘/토크센서가등록됩니다.
299

================================================================================
18. 설정
팔렛(Pallet)
팔레타이징공정을위한팔렛을설정합니다. 팔렛이란행과열의위치가일정한간격으로배열되어있어
물건을일정한규칙으로보관할수있는상자의일종입니다. 이러한팔렛은사용자공정마다그크기와
간격이다르기때문에매번교시를하기복잡하고많은시간이소요됩니다. 따라서팔렛설정은3 개의
교시점과가로, 세로의간격, 그리고패턴만으로교시점을자동계산해이러한수고를덜어주는기능입니
다. 팔렛은공정에필요한만큼여러개등록이가능하며각각고유의이름을가지고있어pick 또는place
명령어에서필요한팔렛을호출해서사용합니다.
팔렛패턴
아래그림과같이팔렛모서리상의세가지위치(P1, P2, P3)와행과열의수로팔렛을정의합니다.
팔렛의패턴은총4가지로정의되어있습니다. 팔렛기준점의순서만변경하면4가지패턴만으로도
모든사각형구조의팔렛을생성할수있습니다.
이러한정보를바탕으로팔렛패턴, 행/열개수, P1, P2, P3 위치교시를통해전체팔레타이징모션을
생성할수있습니다.
300

================================================================================
18. 설정
팔렛설정
팔렛설정을이용해다음과같이팔렛을생성할수있습니다. 설정된팔렛패턴정보는Palletize에서
불러와사용할수있습니다.
• 좌측프로그램환경메뉴에서
1 팔렛을터치하십시오.
•
2 사용자팔렛리스트에기존에등록된팔렛리스트가나타나며새로운팔렛을추가및삭제할
수있습니다.
•
3 선택된팔렛정보에서앞서설명한팔렛의패턴, 행/열개수, 기준위치를설정할수있습니다.
– 패턴: 1, 2, 3, 4로나타나있는라디오버튼중하나를선택하여패턴을선택합니다.
– 행/열개수: 에디트창에서선택된팔렛패턴의행과열의수를입력합니다.
– 위치: 기준위치P1, P2, P3 각각을선택후위치등록버튼터치하면교시화면으로이동하게
되며, 각기준위치를등록할수있습니다. 초기화버튼을통해등록한위치를다시초기화할
수있습니다. 누르는동안입력위치로이동버튼을통해교시한기준위치로직접이동해볼
수있습니다.
• 업데이트버튼을통해설정한팔렛정보를저장하십시오.
301

================================================================================
18. 설정
컨베이어(Conveyor)
컨베이어트래킹(Conveyor Tracking) 기능을사용하기위한컨베이어엔코더, 트리거센서, 오프셋,
그리고컨베이어트래킹모션에대한설정을할수있습니다. 컨베이어트래킹기능을구현하기위해서는
필요한구성품을이해하고이에대한준비가되어야합니다. 각구성품들은컨베이어의움직임정보를
수집하고로봇이물체를정확하게추적하여작업을수행할수있도록합니다.
• 엔코더: 컨베이어밸트에설치된엔코더의회전정보를바탕으로컨베이어의속도를실시간으로
감지합니다.
– MPT (Millimeters Per Tick):
엔코더데이터를mm 단위로변환하기위한계수입니
다(mm/tick). 1024 PPR (Pulse Pre Revolution)을가지는디스크반지름25mm인
quadrature 타입엔코더에대한MPT는다음과같습니다.
MPT =
2πr
ppr × 4 =
2π25
1024 × 4 ≈0.038[mm/tick]
– 수집단위:
평균속도를구할때사용되는샘플의수입니다. 수집단위의수만큼의최근
속도기록을평균하여현재속도값으로사용합니다. 값이클수록정확한값을얻을수있지만
느리게반영됩니다.
• 트리거: 컨베이어위에서움직이는물체를감지하는센서이며, 이를통해컨베이어트래킹시작
타이밍을결정합니다.
– 오프셋: 트리거감지이후로봇이컨베이어트래킹모션을시작하는시점까지의거리입니다.
• 작업거리: 컨베이어설정화면의방향에서시작점과끝점을등록하여컨베이어트래킹모션을
302

================================================================================
18. 설정
정의합니다. 여기서작업거리는시작점과끝점까지의거리를나타냅니다. 즉, 로봇이컨베이어
트래킹모션을하는거리를나타냅니다.
엔코더와트리거를로봇컨트롤박스와연결하고Conty에서이에대한구성을해야합니다. 신호
처리를위해서신호의상승엣지(Rising edge)와하강엣지(Falling edge)의개념이나옵니다.
• 상승엣지(Rising Edge): 신호가LOW(0)에서HIGH(1)로변화하는순간을지칭합니다.
• 하강엣지(Falling Edge): 신호가HIGH(1)에서LOW(0)로변화하는순간을지칭합니다.
303

================================================================================
18. 설정
엔코더설정
엔코더는5가지모드를제공합니다.
엔코더모드
설명
CONSTANT
엔코더를설치하지않고수동상수(mm/s)를속도로입력받아적용합니다.
QUADRATURE
엔코더의A,B 상을입력받아동작합니다.
RISING
엔코더의A 상의상승엣지를처리하여동작합니다.
FALLING
엔코더의A 상의하강엣지를처리하여동작합니다.
MODBUS
엔코더를설치하지않고모드버스서버의4000, 4001, 4002, 4003 중하나의주소에
할당된값을속도(mm/s)로입력받아적용합니다.
• 좌측프로그램환경메뉴에서
1 컨베이어를선택하십시오.
•
2
컨베이어리스트에기존에등록된컨베이어리스트가나타나며새롭게추가및삭제할수
있습니다.
•
3 엔코더탭에서이름, 엔코더모드를입력할수있습니다. 선택된엔코더모드에따라설정해야
할값에차이가있습니다.
– CONSTANT: 컨베이어속도를나타내는수동상수값(mm/s)을에디트창에직접입력하
십시오.
– QUADRATURE: 엔코더의A상(채널A), B상(채널B)을입력받는컨트롤박스디지털입력
채널을선택하십시오.
– RISING: 엔코더의A상(채널A)을입력받는컨트롤박스디지털입력채널을선택하십시오.
– FALLING: 엔코더의A상(채널A)을입력받는컨트롤박스디지털입력채널을선택하십시오.
304

================================================================================
18. 설정
– MODBUS: 컨베이어의속도(mm/s)를입력받을모드버스의주소를선택하십시오(4000,
4001, 4002, 4003 중택일).
•
4 방향전환을통해측정되는컨베이어속도의부호를반전할수있으며, 컨베이어상태에서현재
설정된엔코더모드와트리거를통해획득되는컨베이어속도와트리거상태를확인할수있습니다.
• 업데이트버튼을터치하여설정을저장하십시오.
305

================================================================================
18. 설정
트리거/오프셋설정
트리거는2가지모드를제공합니다.
트리거모드
설명
DIGITAL
트리거센서의상승또는하강엣지를처리하여동작합니다.
MODBUS
트리거센서를설치하지않고모드버스서버의4010, 4011, 4012, 4013 중하나의
주소에할당된값을트리거로입력받아적용합니다.
• 트리거센서와오프셋값설정을위해트리거/오프셋탭을선택하십시오.
•
5 트리거의모드와엣지타입을선택할수있습니다.
– DIGITAL: 트리거센서를입력받는컨트롤박스디지털입력채널을선택하십시오.
– MODBUS: 트리거신호를입력받을모드버스의주소를선택하십시오(4010, 4011, 4012,
4013 중택일).
• 엣지타입은상승/하강중하나를선택하십시오.
• 방향탭에서설정된시작점, 끝점을바탕으로계산된작업거리를확인할수있습니다.
306

================================================================================
18. 설정
방향(컨베이어트래킹모션) 설정
• 로봇의모션방향을설정하기위해방향탭을터치하십시오.
•
6
시작점, 끝점각각을등록하여시작점에서끝점까지의컨베이어트래킹모션을티칭할수
있습니다.
– 일반적인상대위치를티칭하는모션벡터티칭방법과동일합니다. 상대위치경유점등록을
참고하십시오.
– 시작점또는끝점을선택후위치등록을터치하면교시화면으로이동하여각각위치를등록할
수있습니다.
– 누르는동안입력위치로이동버튼을통해등록된시작점또는끝점방향으로로봇을직접
이동할수있으며초기화버튼을통해등록한위치를초기화할수있습니다.
• 모션벡터등록완료후가속도와특이점회피유무를설정후시작점으로이동한뒤누르는동안
컨베이어트래킹동작버튼을터치하여컨베이어트래킹모션을테스트할수있습니다.
■시작점은컨베이어트래킹모션을실행하기전트리거신호를대기하는위치이며, 끝점은컨베이어
트래킹모션이완료되는지점입니다.
307

================================================================================
18. 설정
비전
로봇에연결된비전정보를설정합니다. 비전은여러개등록이가능하며각각고유의이름을가지고
저장합니다. 설정된비전은프로그램명령SetFrame, Pick/Place, Detect/Retrieve에서사용할수
있으며, 참조좌표계설정시비전감지기능사용시불러와사용할수있습니다.
기본세팅
• 좌측프로그램환경메뉴에서
1 비전를터치하십시오.
•
2 사용자비전리스트에기존에등록된비전나타나며새롭게추가및삭제할수있습니다.
•
3 선택된비전정보에서비전설정을할수있습니다.
– 이름: 비전을설정후저장하기위한이름을입력하십시오.
– 비전선택: 사용할비전을선택하십시오.
– IP/Port: 비전제어기의IP 주소와Port를입력하십시오.
• 업데이트를누르면
2 사용자비전리스트에설정된비전정보가저장됩니다.
• IndyEye의경우Default Port가10511이며, IP 주소의경우버전에따라
상이할수있습니다.
• Photoneo의경우Default Port가11003이며, IP 주소의경우웹UI에서
설정합니다.
308

================================================================================
18. 설정
Photoneo 캘리브레이션
• 비전변수설정화면에서Photoneo 비전선택하는경우, 캘리브레이션을위한UI가활성화됩니다.
• 포토네오웹UI에서캘리브레이션을활성화시킨후, 캘리브레이션볼의위치를엔드툴좌표계
상에서mm단위로입력하고캘리브레이션포인트추가버튼을클릭하면현재로봇자세에서의
캘리브레이션포인트가추가됩니다.
• 9개의캘리브레이션포인트를추가하면, 포토네오에서인식되는3D 물체의3차원좌표를로봇
좌표계로변환하여로봇컨트롤러에전달합니다.
309

================================================================================
18. 설정
모드버스서버
외부PC 또는PLC에서구동되는모드버스서버에클라이언트로접근하기위한연결설정을할수있습
니다. 설정된모드버스리스트는고정브랜치: Variable에서불러올수있습니다.
• 좌측프로그램환경에서
1 모드버스서버를터치하십시오.
•
2 모드버스서버리스트에기존에등록된리스트가나타나며새롭게추가및삭제할수있습니다.
•
3 모드버스정보를입력할수있습니다.
– 이름: 설정및등록하기위한모드버스서버이름을입력하십시오.
– 서버IP/Port: 모드버스서버의IP 주소를입력하십시오. Port는모드버스표준인502를
사용합니다.
– 국번: 슬레이브ID를입력할수있습니다.
•
4 테스트버튼을터치하면설정된모드버스서버에대한연결테스트를진행합니다. 성공적으로
연결이될경우“연결에성공하였습니다.” 라는인스턴트메시지가나타납니다.
•
5 업데이트버튼을터치하면설정된모드버스서버가리스트에저장됩니다.
인디프레임워크또한모드버스서버를구동하고있기때문에로봇IP를입력하면
로봇에서구동중인모드버스서버와통신할수있습니다. 자세한내용은모드버
스서버를참조하십시오.
310

================================================================================
18. 설정
18.4
시스템설정
시작옵션
타겟프로그램자동실행옵션을통해별도의조작없이시스템전원이처음켜졌을때, 타겟프로그램을
자동으로시작할수있습니다.
• 좌측시스템메뉴에서
1 시작옵션을터치하십시오.
•
2
타겟프로그램자동실행에서켬을선택후콤보박스를터치하면인덱스프로그램리스트가
팝업창으로나타납니다. 이중타겟프로그램을선택하십시오(인덱스프로그램저장방법은프로
그램작성를참고하십시오).
• 업데이트버튼을터치하여설정을저장하십시오.
타겟프로그램을자동실행모드로설정시모든부팅과정이정상적으로완료되면
로봇이자동으로동작할수있어사용시각별한주의를필요로합니다. 일반적
으로I/O 스위치를연결해서사용하거나외부장비와연결해서사용할경우를
제외하고는사용하지마십시오.
311

================================================================================
18. 설정
안전
안전기능에대한상세목록과사양은부록안전기능을참고하십시오. 로봇을사용하기전사용자는
반드시위험성평가를수행해야하며, 위험성평가결과에따라안전기능들을사용환경에맞게설정해야
합니다.
일반보호정지기능은동력(Power), TCP 힘또는TCP 속도가각각한계값을초과할경우보호정지를
동작시키는기능을의미합니다. 안전설정에서는이에필요한한계값설정과안전정지설정을할수
있습니다.
한계값설정
한계값은일반모드및감소모드에대해각각설정할수있습니다.
• 일반모드: 로봇의운영모드가자동모드인경우를나타냅니다. 한계값을실수값으로입력할수
있습니다.
• 감소모드: 로봇의운영모드가수동모드일때프로그램실행을하면감속모드(reduced velocity)
로로봇이움직이는상태입니다. 한계값은일반모드한계값의백분율로입력할수있습니다.
• 안전설정은관리자모드에서수정이가능하므로관리자모드로그인후진행하십시오.
• 좌측시스템메뉴에서
1 안전을터치하십시오.
•
2 한계값설정탭에서파워, TCP 힘, TCP 속도에대한한계값을설정할수있습니다.
312

================================================================================
18. 설정
안전정지설정
안전정지설정에서는일반보호정지기능을포함해총8 종의보호정지에대해IEC 60204‑1에서제시하
는정지방식들을각보호정지별로설정할수있습니다. IEC 60204‑1 에서제시하는정지방식에는총3
가지가있으며각각의명칭과의미는아래표와같습니다.
종류
정의
정지카테고리0 (Cat.0)
즉시서보전원차단하여비상정지
정지카테고리1 (Cat.1)
감속정지후서보전원차단
정지카테고리2 (Cat.2)
감속정지후서보전원유지
•
3 안전정지설정각보호정지에대해정지카테고리를선택할수있습니다.
313

================================================================================
18. 설정
서보자동꺼짐
로봇이특정시간동안움직임이없을때서보가자동으로꺼지도록설정할수있습니다.
• 좌측로봇시스템메뉴에서
1 서보자동꺼짐을터치하십시오.
• 서보자동꺼짐모드를활성화하기위해
2 켬을선택후에디트창에시간을분단위로입력하십
시오. 설정한시간동안로봇움직임이없으면서보가자동으로꺼집니다.
• 설정을저장하기위하여업데이트를터치하십시오.
314

================================================================================
18. 설정
DIO 기능구성
컨트롤박스의디지털입출력에특정로봇기능을매칭하여구성할수있습니다.
• 좌측시스템메뉴에서
1 DIO 기능구성을터치하십시오.
• 디지털입력설정탭에서디지털입력과매칭할수있는
2
명령어리스트가나타납니다. 리스
트에서원하는기능을선택후해당명령과매칭하기위한디지털입력조건과채널을
3 선택된
명령에서설정하십시오.
– 명령호출을위한입력신호: 선택된명령어를동작시키기위한디지털입력채널을선택할
수있습니다. 채널을선택하면켬, 끔이토글되며다중채널을선택할수있습니다. 다중채널
선택시AND 조건이적용됩니다.
– 호출된명령의‘성공’ 피드백출력신호:
명령어전달이성공할경우출력할디지털출력
채널을선택합니다. 다중채널선택이가능합니다.
– 호출된명령의‘실패’ 피드백출력신호:
명령어전달이실패할경우출력할디지털출력
채널을선택합니다. 다중채널선택이가능합니다.
•
4 명령어에대한설정을등록, 해제, 초기화할수있습니다.
– 설정초기화: 등록된조건들을모두초기화합니다.
– 등록해제: 선택된명령어에대해등록된설정을해제합니다.
– 등록: 선택된명령어에대해설정한디지털입력조건을등록합니다. 등록된명령어는명령어
리스트에서녹색으로표기가됩니다.
315

================================================================================
18. 설정
• 디지털출력설정탭에서디지털출력과매칭할수있는
5
로봇상태리스트가나타납니다. 리
스트에서원하는로봇상태를선택후해당명령과매칭하기위한디지털출력조건과채널을
6
선택된로봇상태에서설정하십시오.
– 타겟로봇상태의‘켜짐’ 출력신호: 선택된로봇상태가켜짐(True) 상태일때출력할디지
털출력채널을선택합니다. 다중채널선택이가능합니다.
– 타겟로봇상태의‘꺼짐’ 출력신호: 선택된로봇상태가꺼짐(False) 상태일때출력할디지
털출력채널을선택합니다. 다중채널선택이가능합니다.
316

================================================================================
18. 설정
18.5
Conty 설정
언어
Conty를설치한후처음실행하면기본언어는한국어입니다. 언어설정을통해Conty 상에나타나는
언어를변경할수있습니다. 현재는한국어와영어를지원하고있습니다.
• 좌측Conty 메뉴에서
1 언어를선택하십시오.
•
2 언어선택후업데이트를터치하면언어설정이반영됩니다.
317

================================================================================
18. 설정
화면보호기
잠금화면을통해의도하지않은사용자입력을방지할수있습니다. 화면보호기설정에서잠금화면으로
전환되는시간또는잠금화면이활성화되지않도록설정할수있습니다.
• 좌측Conty 메뉴에서
1 화면보호기를터치하십시오.
• 화면보호기를활성화하기위해
2 켬을터치하십시오. 잠금화면으로전환되는시간을초단위로
입력후업데이트를터치하십시오.
• 아래는잠금화면이실행된화면입니다. 잠금화면에서는모든터치입력이불가능합니다. 잠금화
면을해제하려면우측하단의주황색버튼을3초간누르십시오.
318

================================================================================
18. 설정
부하율표시
관리자모드에서는설정화면에서별도로제공되던로그인기능을추가로그인없이접근가능하도록
권한을부여합니다. 관리자모드화면에서1 회로그인시, 모든Conty화면에관리자권한이부여됩니다.
• 좌측Conty 메뉴에서
1 부하율표시를터치하십시오.
•
2 켬또는끔을선택후업데이트를터치하면반영됩니다.
• 부하율표시(좌)와미표시(우) 일때상기그림과같이나타납니다.
319

================================================================================
18. 설정
관리자모드
관리자모드에서는설정화면에서별도로제공되던로그인기능을추가로그인없이접근가능하도록
권한을부여합니다. 관리자모드화면에서1 회로그인시, 모든Conty화면에관리자권한이부여됩니다.
관리자모드로만설정을바꿀수있는기능은다음과같습니다.
• 충돌감지수동튜닝, 게인튜닝, 안전
• 좌측Conty 메뉴에서
1 관리자모드를터치하면로그인창이나타납니다.
•
2 비밀번호입력후로그인버튼을누르면로그인이됩니다(초기비밀번호는nrmk0000 입니다).
320

================================================================================
18. 설정
• 로그인이성공하면로그인상태창이표시되며
3 관리자비밀변호변경을통해비밀번호를변경할
수있습니다.
관리자모드에서의설정은제품의기능및성능과매우밀접한관련이있습니다.
따라서관리자비밀번호를타인에게함부로공유해서는안됩니다. 만약, 관리자
비밀번호를잊었을경우제조사에문의하십시오.
321

================================================================================
18. 설정
3D 뷰
시뮬레이션화면에서와툴좌표계의회전축방향표시설정을변경할수있습니다.
• 좌측Conty 메뉴에서
1 3d 뷰를터치하십시오.
• 좌표계방향표시
2 끔을선택후업데이트를터치하십시오.
322

================================================================================
19. 시스템
19
시스템
19.1
시스템화면이동
로봇의상태확인등시스템의진단과관리, 그리고유지보수화면이제공됩니다. 시작화면의우측상단
시스템메뉴를통해진입할수있습니다.
323

================================================================================
19. 시스템
19.2
시스템진단
로봇상태
• 좌측시스템진단메뉴에서
1 로봇상태를선택하십시오.
•
2
로봇상태를확인할수있습니다. 가동시간은로봇의전원이켜진후현재까지의누적가동
시간을나타냅니다. 하단은로봇관절별구동기상태를나타냅니다.
– 상태: 각관절구동기의전원상태를On 또는Off로나타냅니다.
– 온도: 각관절구동기의온도를나타냅니다. 시뮬레이션모드일때에는0으로나타납니다.
– 상태코드: 각관절구동기모터의상태를나타냅니다(CiA402 기준).
상태코드
설명CiA402
NOT_READY
드라이브가작동준비가되어있지않은상태입니다.
SWITCH_DISABLED
드라이브가전원이켜져있지만아직비활성화된상태입니다.
READY_SWITCH
드라이브가제어신호를받을준비가된상태입니다. 이상태에서는모터가아직
작동되지는않지만, 제어를활성화할수있는준비상태입니다.
SWITCHED_ON
드라이브가활성화된상태로, 모터가제어를받을준비가되었습니다. 하지만, 실제
동작명령이수행되지는않고, 명령을대기하고있는상태입니다.
OPERATION_ENABLED
드라이브가동작명령을받아모터가실제로움직일수있는상태입니다. 이
상태에서는제어시스템에서오는명령에따라모터가작동하게됩니다.
FAULT_REACTION
드라이브가오류상태에진입했고, 오류에대한반응을수행하고있는상태입니다.
이상태에서는오류에대응하기위한절차가진행되고있습니다.
FAULT
드라이브에오류가발생한상태로, 더이상정상적으로작동할수없는상태입니다.
324

================================================================================
19. 시스템
서보/브레이크
서보의전원및브레이크를수동으로해제할수있습니다.
• 좌측시스템진단메뉴에서
1 서보/브레이크를선택하십시오.
•
2
서보버튼을통해전체서보전원을제어합니다. 버튼이On 일경우구동기서보전체가On
인상태이며, 버튼이Off일경우구동기서보전체가Off 상태를나타냅니다. 서보전원이꺼지면
자동으로브레이크가동작하여관절이중력에의해떨어지지않도록붙잡습니다.
• 브레이크의경우관절구동기별브레이크제어를할수있습니다. 서보전원이꺼진상태에서만
동작이되며스위치버튼을Off하여브레이크를풀게되면사용자는외력으로해당관절을강제로
움직일수있습니다. 다시서보를On 할경우터치하면서보전원이들어오면서자동으로브레이
크가풀립니다.
브레이크를강제로해제하면해당관절이중력에의해아래로처질수있습니다.
무거운툴이장착되었거나큰힘이가해진경우, 처지는속도가더빨라질수있으
므로반드시로봇암을안전하게지지한후브레이크를해제해야합니다.
325

================================================================================
19. 시스템
컨트롤박스IO
컨트롤박스의IO 보드에입출력되는신호를확인또는제어합니다. 컨트롤박스의IO보드버전은RevC
와RevE 버전이있으며사용하는버전에따라일부화면에차이가있습니다.
RevC 버전IO보드사용시
RevE 버전IO보드사용시
• 좌측시스템진단메뉴에서
1 컨트롤박스IO를선택하십시오.
326

================================================================================
19. 시스템
•
2 디지털신호확인및수동제어
– 컨트롤박스의디지털입출력포트에각각연결된외부장치의신호를확인하거나외부장치로
신호를보냅니다.
– 디지털출력의경우전송버튼을통해신호를출력시킬수있으며, 디지털입력의경우신호가
들어오면해당채널의색상이녹색으로바뀌게됩니다.
•
3 아날로그신호확인및수동제어
– 컨트롤박스의아날로그입출력포트에각각연결된외부장치의신호를확인하거나외부장치
로신호를보냅니다.
– 아날로그출력의경우에디트창에출력전압을입력후전송버튼을통해신호를출력시킬수
있으며, 아날로그입력의경우신호가들어오면그래프에채널별입력전압이표시됩니다.
327

================================================================================
19. 시스템
엔드툴포트IO
엔드툴포트의입출력신호를확인하고제어할수있습니다.
• 좌측시스템진단메뉴에서
1 엔드툴포트IO를선택하십시오.
• 배선연결을할수있는엔드툴포트는A포트, B포트2개이며
2
포트위치에서사용할포트를
선택할수있습니다.
•
3 엔드툴타입의콤보박스를터치하여사용할신호타입을선택하십시오.
– 엔드툴DIO/AIO (기본): 엔드툴의디지털입출력과아날로그입출력을사용합니다.
– 연결된그리퍼: 엔드툴포트의RS485 통신을사용하는상용서드파티그리퍼를선택할수
있습니다.
•
4 디지털출력에서각채널별DO 신호를NPN/PNP으로설정후켬/끔을선택할수있습니다.
•
5 DO.0, DO.1의전송버튼을터치하면
4 에서설정된채널별신호타입과출력에따라전송할
수있습니다. 또한디지털입력신호가수신되면DI.0, DI.1에표시가됩니다.
•
6
아날로그입력에는수신되는아날로그입력전압이그래프상에표시되며, 아날로그출력의
에디트창에출력전압을입력후좌측체크박스를선택하면신호가출력됩니다.
■B포트를선택할경우디지털/아날로그인덱스가DO.2, DO.3, DI.2, DI.3, AI.1, AO.1로바뀌게
되며해당채널로테스트할수있습니다.
328

================================================================================
19. 시스템
3 엔드툴타입을연결된그리퍼로선택할경우
7 을통해서드파티그리퍼에대한설정및테스트
를수행할수있습니다.
• 그리퍼: 첫번째콤보박스를통해그리퍼종류를선택할수있습니다.
– Robotiq: Robotiq 사그리퍼를사용할수있습니다.
– DH: DH Robotics 사그리퍼를사용할수있습니다.
• 두번째콤보박스를통해선택된그리퍼에보낼신호를선택할수있습니다.
– Activate: 연결된그리퍼를활성화하는명령입니다. 그리퍼최초동작시에반드시Activate
를전송해야합니다.
– Re‑activate: 그리퍼를비활성화하는명령입니다.
– SetPVT: 설정한파지폭, 타겟속도, 힘값을그리퍼로전송하는명령입니다.
• 파지폭, 타겟속도, 타겟힘을직접입력하여설정할수있습니다. 테스트버튼을터치하면설정된
명령을전송합니다.
• 선택된툴정보에서연결된그리퍼의상태와위치값을확인할수있습니다.
329

================================================================================
19. 시스템
19.3
시스템관리
제품정보
현재사용중인제품의정보를표시합니다.
• 좌측시스템관리메뉴에서
1 제품정보를선택하십시오.
• 사용중인제품의
2 하드웨어정보, 소프트웨어정보, 네트워크정보가표시됩니다.
– 하드웨어정보:
연결된로봇의로봇명, 최대페이로드, 기구학캘리브레이션적용여부가
표시됩니다.
– 소프트웨어정보: 연결된로봇의Conty 버전, 컨트롤러버전, 미들웨어버전이표시됩니다.
또한컨트롤박스의펌웨어버전, 엔드툴보드펌웨어버전, 로봇각관절구동기의펌웨어
버전이표시됩니다.
– 네트워크정보: 컨트롤박스IP주소가표시됩니다.
• 현재안전기능설정값에따라우측상단에4자리의영숫자로구성된
3
안전설정해시값이
표시됩니다. 안전기능의설정값이변경되면안전설정해시값도변경됩니다.
로봇이정상적으로구동하기위해서는Conty 버전, 컨트롤러버전, 미들웨어
버전이서로일치해야합니다. 만약버전이다를경우오동작이발생할가능성이
있으니소프트웨어를반드시업데이트하십시오. 업데이트방법은시스템업데
이트를참조하십시오.
330

================================================================================
19. 시스템
시스템리부트
리부트는복구기능중하나로서제어시스템을종료하고다시시작하는기능입니다. 리부트실행시서보
전원이꺼진후다시켜지면서로봇소프트웨어가재부팅됩니다.
• 좌측시스템관리메뉴에서
1 시스템리부트를선택하십시오.
• 우측하단의리부트를터치하면팝업창이나타나며, 예버튼을터치하면엔드툴표시등이꺼지며
시스템이재부팅됩니다. 이때, Conty도통신을종료하면서연결이해제됩니다.
• 약2‑3 분후에로봇이다시켜지게되며이때Conty를재연결하여로봇을사용할수있습니다.
331

================================================================================
19. 시스템
시스템종료
사용중이지않은로봇은시스템종료를통해전원을끌수있습니다.
• 좌측시스템관리메뉴에서
1 시스템종료를선택하십시오.
• 우측하단의종료하기를터치하면팝업창이나타나며(제어기전원을끄시겠습니까?), 예버튼을
터치하면엔드툴표시등이꺼지며로봇과컨트롤박스의전원이꺼지게됩니다. 이때, Conty도
통신을종료하면서연결이해제됩니다.
로봇컨트롤박스의전원버튼을통해종료할수도있지만특별한비상상황이아닐
경우시스템종료를통해전원을끄는것을권장합니다.
332

================================================================================
19. 시스템
19.4
유지보수
시스템업데이트
설치된소프트웨어의버전이최신버전보다낮을경우Conty를통해버전업데이트를진행할수있습니다.
• 좌측유지보수메뉴에서
1 시스템업데이트를선택하십시오.
• 시스템업데이트는관리자권한에서만실행이가능하므로비밀번호를입력하거나관리자모드로
로그인해야합니다.
• 시스템업데이트시작을터치하면팝업창이나타나며(시스템업데이트를시작합니다. 약5분의
시간이소요됩니다.), 예버튼을터치하면시스템업데이트가시작됩니다.
• 실행중인모든프로그램이종료되고업데이트가시작됩니다. 시스템업데이트는약5 분의시간이
소요되며, 업데이트가정상적으로완료되면시스템은자동으로재시작됩니다. 이때, Conty도
통신을종료하면서연결이해제됩니다.
시스템업데이트중에는절대로로봇컨트롤박스의전원을꺼서는안됩니다. 만약
도중에전원이꺼질경우로봇이정상적으로동작되지않을수있습니다.
333

================================================================================
19. 시스템
로그파일관리
로봇동작중발생하는모든이벤트메시지와제어데이터들을자동으로기록하고컨트롤박스저장소에
로그파일로보관합니다. 이러한로그파일들은컨트롤박스의일정저장용량을초과하면가장오래된
로그파일들부터자동삭제됩니다. 따라서필요시Conty를사용하여로그파일들을외부저장장치로
백업하거나또는자동삭제전에미리삭제할수있습니다.
• 좌측유지보수메뉴에서
1 로그파일관리를선택하십시오.
• 시스템업데이트는관리자권한에서만실행이가능하므로비밀번호를입력하거나관리자모드로
로그인해야합니다.
•
2 로그파일목록: 모든로그파일정보를보여줍니다. 로그파일을터치하면선택상태로, 다시
한번터치하면선택상태가해제됩니다. 또한다중선택도가능합니다.
•
3 의버튼들을통해로그파일을선택해제, 선택파일삭제, Conty 저장소로다운로드를할수
있습니다.
– 파일선택해제: 선택된로그파일들의선택상태를모두해제합니다.
– 선택파일삭제:
선택한로그파일들을컨트롤박스저장소에서삭제합니다. 컨트롤박스
저장소에서로그파일들이영구적으로삭제되어복구가불가능하오니사용시주의하십시오.
– 선택파일다운로드: 선택된로그파일들을태블릿PC 의저장소로복사합니다. 이때태블릿
PC 에서저장위치는Tablet ▶Android ▶data ▶com.neuromeka.com.conty3 ▶
files ▶log ▶storage 폴더입니다.
334

================================================================================
20. 인디케어(IndyCARE) 모니터링
20
인디케어(IndyCARE) 모니터링
인디케어는클라우드기반의로봇통합관리서비스로서인터넷웹을통해로봇의상태를실시간으로
모니터링가능할뿐만아니라과거에발생했던문제의원인을분석하거나앞으로발생할잠재적문제를
사전에방지할수있도록다양한정보를제공합니다.
이러한인디케어의주요기능은다음과같습니다.
• 실시간로봇상태모니터링및원격제어: 현장에서구동중인로봇의상태정보를인터넷웹을통해
항상실시간으로확인하고, 필요시뉴로메카엔지니어가원격으로로봇에접속해로봇을제어하거
나문제사항을확인할수있습니다.
• 조업데이터모니터링: 공정관리에필요한조업데이터를항상수집하고있기때문에시간과장소에
상관없이항상공정실적을확인하거나보고할수있습니다.
• 블랙박스: 작업중로봇에서알람이발생할경우당시상황을자동으로영상과로그로저장하여
문제의원인을신속하게해결할수있습니다.
• 예지보전: 축적된데이터를통해로봇의상태를주기적으로체크하여잠재적고장이나로봇의
오동작을사전에방지할수있습니다.
335

================================================================================
20. 인디케어(IndyCARE) 모니터링
20.1
인디케어접속하기
https://neuromeka.thingplus.net/
상기의인디케어플랫폼주소를URL에입력하여접속하면아래의로그인화면이나타납니다. 제공받은
인디케어로그인정보를입력하여로그인할수있습니다.
로그인을하면연결된로봇을모니터링할수있는관제대시보드가나타납니다. 사용자는등록된
로봇에대한현황을실시간으로확인할수있습니다.
336

================================================================================
20. 인디케어(IndyCARE) 모니터링
20.2
원격지로봇Conty 접속
인디케어를통해원격지로봇에대해원격연결을할수있습니다.
• 웹페이지좌측의
1 로봇관제‑ 원격연결페이지이동후
2 고객사, 로봇명을선택후보기를
클릭하십시오.
• 선택된로봇에대한원격제어허용을위해
3 초기화버튼을클릭하면, 원격제어기능이초기화
된후
4 상태가정상으로변경됩니다.
337

================================================================================
20. 인디케어(IndyCARE) 모니터링
• 정상상태로변경된후
버튼을클릭하면팝업메시지에서연결가능한IP주소가나타납니다.
이접속주소/포트를통해원격지에서Conty 연결을할수있습니다.
• Conty를켠후상단의
1 ,
2 Wi‑Fi로연결하기버튼을터치하십시오.
• Wi‑Fi로연결하기팝업창하단의
3
IndyCARE 버튼을터치후앞서인디케어플랫폼웹페이
지에서확인한연결하고자하는
4 원격지로봇의주소와포트를입력하십시오.
• 연결버튼을터치하면인디케어를통해원격지로봇에대한Conty 연결이됩니다. 이후의Conty
상의모든기능은동일하게사용하실수있습니다.
20.3
인디케어리포팅변수를통한인디케어연동
Conty를이용한로봇프로그램작성을통해로봇데이터를인디케어상에서모니터링할수있습니다.
프로그램작성시인디케어리포팅변수에값을할당하게되면해당변수데이터는실시간으로인디케어와
연동됩니다. 이를이용하여로봇공정의Tact time, 공정률, 특성센서변수등을인디케어에리포팅할
수있으며, 인디케어플랫폼의웹페이지에서는리포팅된변수를시각화하여원격지에서모니터링할수
있습니다.
프로그램흐름제어명령어중TactTime 명령어가인디케어리포팅변수로설정되어있습니다. 자
세한사항은TactTime을참고하시기바랍니다.
338

================================================================================
21. 문제확인및해결
21
문제확인및해결
21.1
알람메시지
로봇구동중발생하는주요이벤트정보는Conty에서띄우는알람(알림) 메시지를통해확인할수
있습니다. 알람이발생하면로봇의상태는정상상태에서비정상상태로바뀌면서로봇은모든동작을
중지합니다. 알람은동작중안전기능에의해감지되어표시되는안전기능위반알람과로봇상태에따라
발생하는주의알람, 경고알람이있습니다.
안전기능위반알람
안전기능위반에대한상세사양은안전기능을참고하십시오.
ID
알람메시지
알람내용
추가정보
SF01/02
Emergency stop
비상정지버튼눌림
SF03
Joint Position Exceeded Limit
관절이동한계초과
관절번호, 관절위치
SF03
Joint Position Exceeded Limit
관절이동한계10도이상초과
관절번호, 관절위치
SF04
Joint Velocity Exceeded Limit
관절속도제한초과
관절번호, 관절속도
SF05
Joint Torque Exceeded Limit
관절토크제한초과
관절번호, 관절토크
SF06
TCP Speed Limit
TCP 속도제한초과
TCP 속도, 제한속도
SF07
TCP Force Limit
TCP 힘제한초과
TCP 힘, 제한힘
SF08
Power Over Limit
로봇동력제한초과
동력, 제한동력
SF09
Standstill Failed
Cat.2 정지후위치유지실패
SF10
Safety Guard Input 1
SafeGuard 입력채널1 감지
SF10
Safety Guard Input 2
SafeGuard 입력채널2 감지
Fault
Loss of Conty Communication
수동모드동작중Conty 연결
끊김
Fault
Loss of IndyKey
Communication
인디키연결끊김또는입력
불일치(nPAD 동일)
Fault
Loss of SafetyBoard
Communication
Safety Board와의연결끊김
Fault
Position Redundancy Check
Failure
이중화엔코더불일치발생
관절위치
Fault
Torque Redundancy Check
Failure
이중화전류불일치발생
관절위치
339

================================================================================
21. 문제확인및해결
주의알람
알람메시지
알람내용
추가정보
Auto servo‑off activated
대기중자동서보오프
MoveR starting point too
far
MoveR 시작위치가너무멈
Collision Detected
충돌감지
관절번호, 관절토크
Joint Position Limit
Closed
관절한계값근접(직접교시사용불가)
관절번호, 관절위치
Joint Velocity Limit
Closed
직접교시중관절속도한계값근접
관절번호, 관절속도
TCP Singular Closed
로봇특이점위치근접
경고알람
하드웨어의결함이발생하는경우경고알람이표시됩니다.
알람메시지
알람내용
추가정보
Joint Position Follow
Error
위치제어오차5도이상
제어게인튜닝필요
Connection Lost
EtherCAT 연결이상
감지된슬레이브개수
Motor Status Error
모터상태에러
관절위치, 에러코드
Motor Error Bit
엔코더에러비트발생
관절위치, 에러코드
Motor Low Battery
구동기배터리방전
관절위치, 에러코드
Motor Over Current
모터과전류발생
관절위치
Motor Over Heated
모터과열발생
관절번호, 과열온도
Motor Firmware Error
모터펌웨어에러
Task time over limit
제어연산주기초과
Soft reset failed
소프트리셋실패(재시도시하드리셋)
External axis error
부가축에러발생
Simulation task is not
loaded
비활성상태시뮬레이션모드진입
Storage space usage
reached
제어기디스크용량부족
디스크사용량%
340

================================================================================
21. 문제확인및해결
21.2
알람메시지형태
알람메시지를통해현재상황을사용자에게알려주기위해Conty에서팝업메시지또는인스턴트메시지
형태로알람이표시됩니다.
팝업메시지
화면중앙에사용자의확인이있을때까지메시지를표시합니다.
■복구가필요한알람의경우복구하기버튼을눌러복구를실행할수있습니다.
341

================================================================================
21. 문제확인및해결
인스턴트메시지
화면중앙에메시지를표시하고일정시간이지나면자동으로사라집니다.
알람로그
• 사용중에발생한모든메시지를로그기능을통해확인가능합니다. 로그를확인하는방법은아래
그림과같습니다. 상단메뉴바에서
1 알람을터치하십시오.
342

================================================================================
21. 문제확인및해결
• 로그정보는시간순서대로기록됩니다. 원하는시간에발생한로그를찾기위해
2
스크롤을
움직여페이지를이동하십시오.
•
3 복구하기버튼을통해복구가필요한알람에대한복구를실행할수있습니다.
343

================================================================================
21. 문제확인및해결
21.3
복구
동작중알람메시지가발생할경우로봇의상태는정상에서비정상상태로변경되면서로봇은모든동
작을중지합니다. 또한알람의원인이제거되지않으면로봇은모든명령을수행하지않습니다. 따라서
로봇을정상적으로재가동하기위해서는사용자는알람의원인을확인하여제거하고적절한절차에의해
복구해야합니다.
로봇상태
로봇상태는알람의종류에따라Conty 중앙상단에서실시간확인가능합니다.
• 정상상태: 로봇의모든기능이사용가능한상태로상단의상태바가흰색으로표시됩니다.
• 안전기능위반상태, 주의상태: 로봇의안전기능설정에의해로봇이정지한상태로상태바가
회색으로표시되며알람종류가표시됩니다. 로봇을다시정상적으로구동하기위해서는적절한
복구절차가필요합니다.
• 경고상태: 로봇이구동불가능한상태로하드웨어적인결함이발생한경우상단의상태바가노란
색으로표시되며알람종류가표시됩니다. 경고알람이발생하는경우로봇점검이필요합니다.
• 복구상태: 복구가진행중인상태로상단의상태바에복구중메시지가표시됩니다. 복구상태에서
는Conty에어떠한조작도불가능합니다.
344

================================================================================
21. 문제확인및해결
복구실행
복구기능은로봇의비정상상태를정상상태로되돌리기위한절차적기능입니다. 복구는비정상상태에
서만동작되며복구를실행하기위한방법은다음과같습니다.
• 팝업메시지에서복구하기버튼터치
• 알람로그리스트에서복구하기버튼터치
• Conty 상단메뉴의복구버튼터치
이러한복구기능은알람종류에따라다음의2가지방법중하나를자동선택해진행됩니다.
• 소프트리셋: 별도의변화없이약5‑10 초정도이후로봇상태가정상상태로복구됩니다.
• 하드리셋: 컨트롤박스전원은유지된채서보전원과엔드툴표시등이꺼지며다시시작됩니다.
이때약2‑3 분정도의시간이소요되며엔드툴표시등이빨간색점멸로표시될때서보전원이
순차적으로들어오고동시에브레이크가해제되면서정상상태로복구됩니다.
리부트기능
리부트는로봇구동에필요한시스템제어프로그램을종료하고다시시작하는기능입니다. 만약복구
기능을실행했는데도로봇의상태가정상상태로복구되지않을경우시스템화면으로이동후시스템
리부트를수행해주시기바랍니다.
345

================================================================================
21. 문제확인및해결
21.4
트러블슈팅
주요알람이발생하여복구시추가적인절차가필요한경우들과리셋또는리부트이후에도더이상
로봇의정상구동이어려운경우에대한대처방안들을트러블슈팅이라고합니다. 이러한문제들에대한
트러블슈팅은다음과같습니다.
관절각도한계값초과수동복구
직접교시나조그사용시각관절의허용이동범위를벗어날때까지조작할경우발생하는문제입니다.
직접교시모드에서이동가능영역은실제허용된이동한계값에서10° 안의범위로제한됩니다. 예를
들어로봇의6번관절의실제허용이동범위가‑360° ‑ +360° 일경우직접교시모드에서는‑350° ‑ +350
로제한됩니다. 조작중이범위를초과할경우로봇관절한계값근접알람메시지와함께직접교시
모드는자동해제됩니다.
기본적으로조그이동을포함한Conty에서조작가능한방법을통해관절한계각도이상으로로봇을
움직일수없습니다. 브레이크를해제하여로봇을관절한계각도이상으로회전하였거나, 외부API를
이용하여제어시, 예상치못한제어이상등으로인해한계각도를넘어서게되면로봇은비상정지를하며
Conty는수동복구화면으로이동하게됩니다.
346

================================================================================
21. 문제확인및해결
•
1 1번관절이한계각도인360도를넘게되어수동복구화면으로이동된상태입니다.
•
2 현재사용중인로봇의관절별한계각도를확인할수있습니다.
•
3 브레이크를해제후서보를켜게되면
4 관절을수동으로회전시킬수있습니다.
•
5
한계각도이하로수동회전시킨후
6
복구완료버튼을터치하면정상상태로로봇을다시
사용할수있습니다.
347

================================================================================
21. 문제확인및해결
특이점발생
MoveL, MoveLF 명령사용시특이점회피기능을사용하지않을경우작업공간모션수행중특이점
영역에접근할경우발생할수있습니다.
• 로봇이특이점발생으로정지한경우복구기능을이용해다시정상상태로복구할수가있지만
특이점영역에서탈출하지못했거나계속접근을시도할경우동일한알람으로로봇이계속정지할
수있습니다.
• 해결방법
– MoveL 명령생성시특이점회피기능을활성화해주십시오.
– MoveJ 로변경하거나또는특이점영역을회피하는경유점을추가생성해주십시오.
협착발생
로봇이동작중주변과충돌이발생할경우충돌감지기능에의해로봇은동작을즉시중지합니다. 이때,
로봇의관성또는감속에필요한정지거리로인해로봇의정지위치가실제충돌시점과다를수있습니다.
로봇과주변과의협착은이러한이유로발생하는문제입니다. 만약사용환경이매우협소하거나로봇
재가동시2 차피해가우려되는상황이라면조그또는프로그램에의한조작보다는직접교시나서보
전원과관절브레이크를수동으로해제한후사용자외력만으로조작하십시오. 또는로봇은반력에의해
반력방향으로자동으로물러날것입니다. 직접교시를이용한로봇조작방법과서보전원과브레이크의
수동해제방법에대한자세한설명은각각직접교시과서보/브레이크를참고하십시오.
정상상태로의복구실패
로봇사용중에발생되는대부분의문제들은복구기능을통해자동으로복구가가능합니다. 자동복구가
완료되면인스턴트메시지와상단의상태바를통해복구결과를표시합니다. 만약자동복구가실패할
경우복구기능을재시도해주십시오. 반복된복구기능시도에도정상상태로의복구가되지않는경우
컨트롤박스의전원과Conty를종료하고다시시작하십시오. 해당절차에도여전히정상상태로복구가
되지않는경우당사서비스절차에의해진단및수리를신청하십시오. 자세한신청방법은사용설명서
서비스접수안내를참고하십시오.
서비스신청시다음과같은내용을추가적으로제공하시면더빠른진단과수리가가능합니다.
• Conty 메시지캡처화면Conty가로봇에접속중인경우발생되는모든문제의메시지를로그화
면에저장하고있습니다. 이화면을캡처해서이미지를보내주십시오. 태블릿PC 의캡처방법은
태블릿PC 제조사사용설명서를참고하십시오.
• 컨트롤박스로그파일컨트롤박스저장장치에는로봇동작중발생하는모든이벤트메시지와제어
데이터들이로그파일로자동저장되어있습니다. 따라서Conty의로그화면으로문제확인이
어려운경우다음파일들을보내주십시오. 로그파일을가져오는방법에대한자세한설명은사용
348

================================================================================
21. 문제확인및해결
설명서로그파일관리를참고하십시오.
• Log_mm_dd.txt
• EventLog_mm_dd.txt
• EventBuffLog_mm_dd_hh_mm_ss.csv
• yy_mm_dd_hh_mm_ss.txt
여기서로그뒤에붙는첨자들은차례대로월(mm), 요일(dd), 시간(hh), 분(mm), 초(ss)의의미입
니다. 이를통해문제가발생한시점의로그파일구분이가능합니다.
349

================================================================================
부록

================================================================================
A. 로봇위치와좌표계
A
로봇위치와좌표계
로봇을조작하여원하는위치로이동시키려면, 로봇의이동공간과그공간에서정의되는위치개념을
이해해야합니다. 로봇의이동은관절공간(joint space)과작업공간(task space)으로나눠지는데,
관절공간은관절의각도로위치를정의하고, 작업공간은참조좌표계에대한툴의위치와회전을포함합니
다. 특히, 툴중심점(TCP, Tool Center Position)은작업공간에서로봇의위치를결정하며, 엔드툴과
작업물간의상호작용지점으로, 그기본위치는엔드툴플랜지의중심점과일치합니다.
기본툴좌표계는엔드툴플랜지표면의수직방향을Z 축, 엔드툴포트방향을Y 축으로하며, 기본툴
중심점을원점으로합니다. 새로운툴좌표계는이를기준으로각축방향으로떨어진거리와각축의회전
을통해정의할수있습니다. 일반적으로새로운툴에대해서는새로운툴좌표계가필요합니다. 다음은
다양한툴에대한툴중심점예시입니다. 툴중심점설정에대한자세한설명은설정화면의툴좌표계
(TCP, Tool Center Point)을참고하십시오.
351

================================================================================
A. 로봇위치와좌표계
로봇의이동에필요한위치는정의되는공간에따라다르게표현됩니다. 관절공간에서의로봇위치는
모든관절의회전각도의벡터로표시됩니다. 이를간단히관절위치(joint position)라부르겠습니다.
이때, 회전방향은아래그림과같이오른손법칙에의해결정되며회전축기준반시계방향이(+), 시계
방향이(－) 입니다.
작업공간에서의로봇위치는작업공간에서의좌표계를기준으로표시되며이는공간상의한점을기
준으로서로직교하는세개의축으로정의됩니다. 이때, 각축의방향은오른손법칙에의해결정되며,
이러한좌표계를직교좌표계(Cartesian coordinate system)라고부릅니다.
따라서작업공간에서의로봇위치는현재의참조좌표계를기준으로툴좌표계의원점, 즉, 툴중심점까지의
거리와각축에대한회전으로표시됩니다. 이를간단하게작업위치(task position) 또는툴위치(tool
position)라고부르겠습니다. 이때, 회전각도는참조좌표계를툴좌표계와일치시키기위해필요한
세번의연속된회전을통해결정되며회전순서에따라표시방식이다릅니다. 뉴로메카제품은기준
좌표계에고정된X 축, Y 축, Z 축의회전순서로정의되는fixed XYZ 정의를따르고있습니다.
352

================================================================================
A. 로봇위치와좌표계
또한작업공간에서의로봇이동(movement)은사용자가선택한좌표계에따라서다르게표현됩니다.
사용자는참조좌표계또는툴좌표계중하나를선택해로봇의이동을정의할수있습니다. 참조좌표계
기준의로봇이동은현재의참조좌표계가툴좌표계의목표위치(target position)를표현하는기준이
됩니다. 이러한참조좌표계는로봇의이동과상관없이작업공간에고정되어있습니다. 기본참조좌표계
는아래그림과같이로봇베이스표면중심점과원점이일치하고로봇설치면의수직방향이Z 축, 로봇
베이스포트반대방향이X 축이됩니다. Y 축은오른손법칙에의해자동으로결정됩니다.
툴좌표계기준의로봇이동은현재의툴좌표계가툴좌표계의목표위치를표현하는기준이됩니다. 이러
한툴좌표계는로봇의툴중심점에부착되어있어로봇이동시매번좌표계가함께이동하게되어축의
방향이항상변경됩니다. 기본툴좌표계는아래그림과같이기본툴중심점을원점으로하고엔드툴
플랜지표면의수직방향이Z 축, 엔드툴포트방향이Y 축이됩니다. X 축은오른손법칙에의해자동으로
결정됩니다. 새로운참조좌표계및툴좌표계설정방법에대한자세한설명은설정화면의툴좌표계(TCP,
Tool Center Point)와참조좌표계을참고하십시오.
353